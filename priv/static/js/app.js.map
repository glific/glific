{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../deps/phoenix/priv/static/phoenix.js","webpack:///../deps/phoenix_html/priv/static/phoenix_html.js","webpack:///../../assets/js/phoenix_live_view/constants.js","webpack:///../../assets/js/phoenix_live_view/entry_uploader.js","webpack:///../../assets/js/phoenix_live_view/utils.js","webpack:///../../assets/js/phoenix_live_view/browser.js","webpack:///../../assets/js/phoenix_live_view/dom.js","webpack:///../../assets/js/phoenix_live_view/upload_entry.js","webpack:///../../assets/js/phoenix_live_view/live_uploader.js","webpack:///../../assets/js/phoenix_live_view/hooks.js","webpack:///../../assets/js/phoenix_live_view/dom_post_morph_restorer.js","webpack:///../../assets/node_modules/morphdom/dist/morphdom-esm.js","webpack:///../../assets/js/phoenix_live_view/dom_patch.js","webpack:///../../assets/js/phoenix_live_view/rendered.js","webpack:///../../assets/js/phoenix_live_view/view_hook.js","webpack:///../../assets/js/phoenix_live_view/view.js","webpack:///../../assets/js/phoenix_live_view/live_socket.js","webpack:///./css/app.scss?242c","webpack:///./js/app.js","webpack:///./node_modules/nprogress/nprogress.js"],"names":["e","t","module","exports","n","i","o","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","Phoenix","Function","window","Array","isArray","a","iterator","from","TypeError","constructor","next","done","push","length","return","toString","slice","name","test","u","configurable","writable","key","h","O","_","H","U","D","M","self","f","v","y","g","k","b","j","T","C","R","E","w","S","A","L","x","P","channel","event","payload","receivedResp","timeout","timeoutTimer","recHooks","sent","reset","send","hasReceived","startTimeout","socket","topic","ref","join_ref","joinRef","response","status","callback","cancelRefEvent","refEvent","filter","forEach","off","clearTimeout","cancelTimeout","makeRef","replyEventName","on","matchReceive","setTimeout","trigger","state","params","bindings","bindingRef","joinedOnce","joinPush","pushBuffer","stateChangeRefs","rejoinTimer","N","isConnected","rejoin","rejoinAfterMs","onError","onOpen","isErrored","receive","scheduleTimeout","onClose","hasLogger","log","concat","remove","isJoining","arguments","Error","isJoined","canPush","isLeaving","leaveOpenTopic","resend","onMessage","HEADER_LENGTH","META_LENGTH","KINDS","reply","broadcast","encode","ArrayBuffer","binaryEncode","JSON","stringify","decode","binaryDecode","parse","DataView","setUint8","charCodeAt","Uint8Array","byteLength","set","buffer","getUint8","TextDecoder","decodePush","decodeReply","decodeBroadcast","stateChangeCallbacks","open","close","error","message","channels","sendBuffer","transport","WebSocket","defaultEncoder","defaultDecoder","closeWasClean","unloaded","binaryType","addEventListener","conn","abnormalClose","heartbeatIntervalMs","reconnectAfterMs","logger","longpollerTimeout","endPoint","vsn","heartbeatTimer","pendingHeartbeatRef","reconnectTimer","teardown","connect","location","protocol","match","appendParams","charAt","host","console","endPointURL","onopen","onConnOpen","onerror","onConnError","onmessage","onConnMessage","onclose","onConnClose","flushSendBuffer","resetHeartbeat","skipHeartbeat","sendHeartbeat","waitForBufferDone","waitForSocketClosed","bufferedAmount","readyState","triggerChanError","isClosed","connectionState","indexOf","heartbeatTimeout","data","isMember","find","leave","token","pollEndpoint","normalizeEndpoint","poll","replace","RegExp","closeAndRetry","request","endpointURL","ontimeout","messages","XDomainRequest","xdomainRequest","XMLHttpRequest","xhrRequest","onload","parseJSON","responseText","onprogress","setRequestHeader","onreadystatechange","states","complete","serialize","encodeURIComponent","join","keys","events","diff","pendingDiffs","caller","onJoin","onLeave","onSync","syncState","syncDiff","inPendingSyncState","list","clone","map","metas","phx_ref","joins","leaves","unshift","apply","getOwnPropertyNames","timerCalc","timer","tries","PolyfillEvent","eventConstructor","CustomEvent","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","buildHiddenInput","input","createElement","type","handleClick","element","targetModifierKey","to","getAttribute","method","csrf","form","target","action","style","display","appendChild","body","submit","phoenixLinkEvent","dispatchEvent","preventDefault","stopImmediatePropagation","metaKey","shiftKey","parentNode","confirm","csrfToken","querySelector","liveSocket","LiveSocket","Socket","_csrf_token","info","NProgress","start"],"mappings":"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AAU,CAAC7H,OAAX,G,CAEA;AACA;AACA;AACA;;AACAnK,MAAM,CAACgS,UAAP,GAAoBA,UAApB,C;;;;;;;;;;;ACjCA;AACA;;AAEA,CAAC;;AAED,MAAM,IAA0C;AAChD,IAAI,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACnB,GAAG,MAAM,EAIN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uB;AACA;AACA;AACA,SAAS;AACT,6BAA6B;;AAE7B;AACA,yB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Phoenix=t():e.Phoenix=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){(function(t){e.exports=t.Phoenix=n(2)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||s(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(n):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}n.r(t),n.d(t,\"Channel\",(function(){return O})),n.d(t,\"Serializer\",(function(){return _})),n.d(t,\"Socket\",(function(){return H})),n.d(t,\"LongPoll\",(function(){return U})),n.d(t,\"Ajax\",(function(){return D})),n.d(t,\"Presence\",(function(){return M}));var l=\"undefined\"!=typeof self?self:null,f=\"undefined\"!=typeof window?window:null,d=l||f||void 0,p=0,v=1,y=2,m=3,g=\"closed\",k=\"errored\",b=\"joined\",j=\"joining\",T=\"leaving\",C=\"phx_close\",R=\"phx_error\",E=\"phx_join\",w=\"phx_reply\",S=\"phx_leave\",A=\"longpoll\",L=\"websocket\",x=function(e){if(\"function\"==typeof e)return e;return function(){return e}},P=function(){function e(t,n,i,o){c(this,e),this.channel=t,this.event=n,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=o,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return h(e,[{key:\"resend\",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:\"send\",value:function(){this.hasReceived(\"timeout\")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:\"receive\",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:\"reset\",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:\"matchReceive\",value:function(e){var t=e.status,n=e.response;e.ref;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:\"cancelRefEvent\",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:\"cancelTimeout\",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:\"startTimeout\",value:function(){var e=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger(\"timeout\",{})}),this.timeout)}},{key:\"hasReceived\",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:\"trigger\",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),O=function(){function e(t,n,i){var o=this;c(this,e),this.state=g,this.topic=t,this.params=x(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new P(this,E,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new N((function(){o.socket.isConnected()&&o.rejoin()}),this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError((function(){return o.rejoinTimer.reset()}))),this.stateChangeRefs.push(this.socket.onOpen((function(){o.rejoinTimer.reset(),o.isErrored()&&o.rejoin()}))),this.joinPush.receive(\"ok\",(function(){o.state=b,o.rejoinTimer.reset(),o.pushBuffer.forEach((function(e){return e.send()})),o.pushBuffer=[]})),this.joinPush.receive(\"error\",(function(){o.state=k,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.onClose((function(){o.rejoinTimer.reset(),o.socket.hasLogger()&&o.socket.log(\"channel\",\"close \".concat(o.topic,\" \").concat(o.joinRef())),o.state=g,o.socket.remove(o)})),this.onError((function(e){o.socket.hasLogger()&&o.socket.log(\"channel\",\"error \".concat(o.topic),e),o.isJoining()&&o.joinPush.reset(),o.state=k,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.joinPush.receive(\"timeout\",(function(){o.socket.hasLogger()&&o.socket.log(\"channel\",\"timeout \".concat(o.topic,\" (\").concat(o.joinRef(),\")\"),o.joinPush.timeout),new P(o,S,x({}),o.timeout).send(),o.state=k,o.joinPush.reset(),o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()})),this.on(w,(function(e,t){o.trigger(o.replyEventName(t),e)}))}return h(e,[{key:\"join\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:\"onClose\",value:function(e){this.on(C,e)}},{key:\"onError\",value:function(e){return this.on(R,(function(t){return e(t)}))}},{key:\"on\",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:\"off\",value:function(e,t){this.bindings=this.bindings.filter((function(n){return!(n.event===e&&(void 0===t||t===n.ref))}))}},{key:\"canPush\",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:\"push\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(t=t||{},!this.joinedOnce)throw new Error(\"tried to push '\".concat(e,\"' to '\").concat(this.topic,\"' before joining. Use channel.join() before pushing events\"));var i=new P(this,e,(function(){return t}),n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:\"leave\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=T;var n=function(){e.socket.hasLogger()&&e.socket.log(\"channel\",\"leave \".concat(e.topic)),e.trigger(C,\"leave\")},i=new P(this,S,x({}),t);return i.receive(\"ok\",(function(){return n()})).receive(\"timeout\",(function(){return n()})),i.send(),this.canPush()||i.trigger(\"ok\",{}),i}},{key:\"onMessage\",value:function(e,t,n){return t}},{key:\"isMember\",value:function(e,t,n,i){return this.topic===e&&(!i||i===this.joinRef()||(this.socket.hasLogger()&&this.socket.log(\"channel\",\"dropping outdated message\",{topic:e,event:t,payload:n,joinRef:i}),!1))}},{key:\"joinRef\",value:function(){return this.joinPush.ref}},{key:\"rejoin\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=j,this.joinPush.resend(e))}},{key:\"trigger\",value:function(e,t,n,i){var o=this.onMessage(e,t,n,i);if(t&&!o)throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");for(var r=this.bindings.filter((function(t){return t.event===e})),s=0;s<r.length;s++){r[s].callback(o,n,i||this.joinRef())}}},{key:\"replyEventName\",value:function(e){return\"chan_reply_\".concat(e)}},{key:\"isClosed\",value:function(){return this.state===g}},{key:\"isErrored\",value:function(){return this.state===k}},{key:\"isJoined\",value:function(){return this.state===b}},{key:\"isJoining\",value:function(){return this.state===j}},{key:\"isLeaving\",value:function(){return this.state===T}}]),e}(),_={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode:function(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));var n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode:function(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));var n=r(JSON.parse(e),5);return t({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})},binaryEncode:function(e){var t=e.join_ref,n=e.ref,i=e.event,o=e.topic,r=e.payload,s=this.META_LENGTH+t.length+n.length+o.length+i.length,a=new ArrayBuffer(this.HEADER_LENGTH+s),c=new DataView(a),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,t.length),c.setUint8(u++,n.length),c.setUint8(u++,o.length),c.setUint8(u++,i.length),Array.from(t,(function(e){return c.setUint8(u++,e.charCodeAt(0))})),Array.from(n,(function(e){return c.setUint8(u++,e.charCodeAt(0))})),Array.from(o,(function(e){return c.setUint8(u++,e.charCodeAt(0))})),Array.from(i,(function(e){return c.setUint8(u++,e.charCodeAt(0))}));var h=new Uint8Array(a.byteLength+r.byteLength);return h.set(new Uint8Array(a),0),h.set(new Uint8Array(r),a.byteLength),h.buffer},binaryDecode:function(e){var t=new DataView(e),n=t.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,i);case this.KINDS.reply:return this.decodeReply(e,t,i);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,i)}},decodePush:function(e,t,n){var i=t.getUint8(1),o=t.getUint8(2),r=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(s,s+i));s+=i;var c=n.decode(e.slice(s,s+o));s+=o;var u=n.decode(e.slice(s,s+r));return s+=r,{join_ref:a,ref:null,topic:c,event:u,payload:e.slice(s,e.byteLength)}},decodeReply:function(e,t,n){var i=t.getUint8(1),o=t.getUint8(2),r=t.getUint8(3),s=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,c=n.decode(e.slice(a,a+i));a+=i;var u=n.decode(e.slice(a,a+o));a+=o;var h=n.decode(e.slice(a,a+r));a+=r;var l=n.decode(e.slice(a,a+s));a+=s;var f=e.slice(a,e.byteLength);return{join_ref:c,ref:u,topic:h,event:w,payload:{status:l,response:f}}},decodeBroadcast:function(e,t,n){var i=t.getUint8(1),o=t.getUint8(2),r=this.HEADER_LENGTH+2,s=n.decode(e.slice(r,r+i));r+=i;var a=n.decode(e.slice(r,r+o));return r+=o,{join_ref:null,ref:null,topic:s,event:a,payload:e.slice(r,e.byteLength)}}},H=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||1e4,this.transport=i.transport||d.WebSocket||U,this.defaultEncoder=_.encode.bind(_),this.defaultDecoder=_.decode.bind(_),this.closeWasClean=!1,this.unloaded=!1,this.binaryType=i.binaryType||\"arraybuffer\",this.transport!==U?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),f&&f.addEventListener&&f.addEventListener(\"beforeunload\",(function(e){n.conn&&(n.unloaded=!0,n.abnormalClose(\"unloaded\"))})),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(e){return i.rejoinAfterMs?i.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4},this.reconnectAfterMs=function(e){return n.unloaded?100:i.reconnectAfterMs?i.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=x(i.params||{}),this.endPoint=\"\".concat(t,\"/\").concat(L),this.vsn=i.vsn||\"2.0.0\",this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new N((function(){n.teardown((function(){return n.connect()}))}),this.reconnectAfterMs)}return h(e,[{key:\"protocol\",value:function(){return location.protocol.match(/^https/)?\"wss\":\"ws\"}},{key:\"endPointURL\",value:function(){var e=D.appendParams(D.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return\"/\"!==e.charAt(0)?e:\"/\"===e.charAt(1)?\"\".concat(this.protocol(),\":\").concat(e):\"\".concat(this.protocol(),\"://\").concat(location.host).concat(e)}},{key:\"disconnect\",value:function(e,t,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:\"connect\",value:function(e){var t=this;e&&(console&&console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"),this.params=x(e)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:\"log\",value:function(e,t,n){this.logger(e,t,n)}},{key:\"hasLogger\",value:function(){return null!==this.logger}},{key:\"onOpen\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}},{key:\"onClose\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}},{key:\"onError\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}},{key:\"onMessage\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}},{key:\"onConnOpen\",value:function(){this.hasLogger()&&this.log(\"transport\",\"connected to \".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return(0,r(e,2)[1])()}))}},{key:\"heartbeatTimeout\",value:function(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log(\"transport\",\"heartbeat timeout. Attempting to re-establish connection\"),this.abnormalClose(\"heartbeat timeout\"))}},{key:\"resetHeartbeat\",value:function(){var e=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearTimeout(this.heartbeatTimer),setTimeout((function(){return e.sendHeartbeat()}),this.heartbeatIntervalMs))}},{key:\"teardown\",value:function(e,t,n){var i=this;if(!this.conn)return e&&e();this.waitForBufferDone((function(){i.conn&&(t?i.conn.close(t,n||\"\"):i.conn.close()),i.waitForSocketClosed((function(){i.conn&&(i.conn.onclose=function(){},i.conn=null),e&&e()}))}))}},{key:\"waitForBufferDone\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.bufferedAmount?setTimeout((function(){t.waitForBufferDone(e,n+1)}),150*n):e()}},{key:\"waitForSocketClosed\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.readyState!==m?setTimeout((function(){t.waitForSocketClosed(e,n+1)}),150*n):e()}},{key:\"onConnClose\",value:function(e){this.hasLogger()&&this.log(\"transport\",\"close\",e),this.triggerChanError(),clearTimeout(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return(0,r(t,2)[1])(e)}))}},{key:\"onConnError\",value:function(e){this.hasLogger()&&this.log(\"transport\",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return(0,r(t,2)[1])(e)}))}},{key:\"triggerChanError\",value:function(){this.channels.forEach((function(e){e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(R)}))}},{key:\"connectionState\",value:function(){switch(this.conn&&this.conn.readyState){case p:return\"connecting\";case v:return\"open\";case y:return\"closing\";default:return\"closed\"}}},{key:\"isConnected\",value:function(){return\"open\"===this.connectionState()}},{key:\"remove\",value:function(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:\"off\",value:function(e){for(var t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter((function(t){var n=r(t,1)[0];return-1===e.indexOf(n)}))}},{key:\"channel\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new O(e,t,this);return this.channels.push(n),n}},{key:\"push\",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,i=e.event,o=e.payload,r=e.ref,s=e.join_ref;this.log(\"push\",\"\".concat(n,\" \").concat(i,\" (\").concat(s,\", \").concat(r,\")\"),o)}this.isConnected()?this.encode(e,(function(e){return t.conn.send(e)})):this.sendBuffer.push((function(){return t.encode(e,(function(e){return t.conn.send(e)}))}))}},{key:\"makeRef\",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:\"sendHeartbeat\",value:function(){var e=this;this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:\"phoenix\",event:\"heartbeat\",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimer=setTimeout((function(){return e.heartbeatTimeout()}),this.heartbeatIntervalMs))}},{key:\"abnormalClose\",value:function(e){this.closeWasClean=!1,this.isConnected()&&this.conn.close(1e3,e)}},{key:\"flushSendBuffer\",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:\"onConnMessage\",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,i=e.event,o=e.payload,s=e.ref,a=e.join_ref;s&&s===t.pendingHeartbeatRef&&(clearTimeout(t.heartbeatTimer),t.pendingHeartbeatRef=null,setTimeout((function(){return t.sendHeartbeat()}),t.heartbeatIntervalMs)),t.hasLogger()&&t.log(\"receive\",\"\".concat(o.status||\"\",\" \").concat(n,\" \").concat(i,\" \").concat(s&&\"(\"+s+\")\"||\"\"),o);for(var c=0;c<t.channels.length;c++){var u=t.channels[c];u.isMember(n,i,o,a)&&u.trigger(i,o,s,a)}for(var h=0;h<t.stateChangeCallbacks.message.length;h++){(0,r(t.stateChangeCallbacks.message[h],2)[1])(e)}}))}},{key:\"leaveOpenTopic\",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.hasLogger()&&this.log(\"transport\",'leaving duplicate topic \"'.concat(e,'\"')),t.leave())}}]),e}(),U=function(){function e(t){c(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=p,this.poll()}return h(e,[{key:\"normalizeEndpoint\",value:function(e){return e.replace(\"ws://\",\"http://\").replace(\"wss://\",\"https://\").replace(new RegExp(\"(.*)/\"+L),\"$1/\"+A)}},{key:\"endpointURL\",value:function(){return D.appendParams(this.pollEndpoint,{token:this.token})}},{key:\"closeAndRetry\",value:function(){this.close(),this.readyState=p}},{key:\"ontimeout\",value:function(){this.onerror(\"timeout\"),this.closeAndRetry()}},{key:\"poll\",value:function(){var e=this;this.readyState!==v&&this.readyState!==p||D.request(\"GET\",this.endpointURL(),\"application/json\",null,this.timeout,this.ontimeout.bind(this),(function(t){if(t){var n=t.status,i=t.token,o=t.messages;e.token=i}else n=0;switch(n){case 200:o.forEach((function(t){setTimeout((function(){e.onmessage({data:t})}),0)})),e.poll();break;case 204:e.poll();break;case 410:e.readyState=v,e.onopen(),e.poll();break;case 403:e.onerror(),e.close();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw new Error(\"unhandled poll status \".concat(n))}}))}},{key:\"send\",value:function(e){var t=this;D.request(\"POST\",this.endpointURL(),\"application/json\",e,this.timeout,this.onerror.bind(this,\"timeout\"),(function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry())}))}},{key:\"close\",value:function(e,t){this.readyState=m,this.onclose()}}]),e}(),D=function(){function e(){c(this,e)}return h(e,null,[{key:\"request\",value:function(e,t,n,i,o,r,s){if(d.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,e,t,i,o,r,s)}else{var c=new d.XMLHttpRequest;this.xhrRequest(c,e,t,n,i,o,r,s)}}},{key:\"xdomainRequest\",value:function(e,t,n,i,o,r,s){var a=this;e.timeout=o,e.open(t,n),e.onload=function(){var t=a.parseJSON(e.responseText);s&&s(t)},r&&(e.ontimeout=r),e.onprogress=function(){},e.send(i)}},{key:\"xhrRequest\",value:function(e,t,n,i,o,r,s,a){var c=this;e.open(t,n,!0),e.timeout=r,e.setRequestHeader(\"Content-Type\",i),e.onerror=function(){a&&a(null)},e.onreadystatechange=function(){if(e.readyState===c.states.complete&&a){var t=c.parseJSON(e.responseText);a(t)}},s&&(e.ontimeout=s),e.send(o)}},{key:\"parseJSON\",value:function(e){if(!e||\"\"===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log(\"failed to parse JSON response\",e),null}}},{key:\"serialize\",value:function(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=t?\"\".concat(t,\"[\").concat(i,\"]\"):i,s=e[i];\"object\"===o(s)?n.push(this.serialize(s,r)):n.push(encodeURIComponent(r)+\"=\"+encodeURIComponent(s))}return n.join(\"&\")}},{key:\"appendParams\",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\\?/)?\"&\":\"?\";return\"\".concat(e).concat(n).concat(this.serialize(t))}}]),e}();D.states={complete:4};var M=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var o=i.events||{state:\"presence_state\",diff:\"presence_diff\"};this.state={},this.pendingDiffs=[],this.channel=t,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(o.state,(function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,o,r),n.pendingDiffs.forEach((function(t){n.state=e.syncDiff(n.state,t,o,r)})),n.pendingDiffs=[],s()})),this.channel.on(o.diff,(function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,o,r),s())}))}return h(e,[{key:\"onJoin\",value:function(e){this.caller.onJoin=e}},{key:\"onLeave\",value:function(e){this.caller.onLeave=e}},{key:\"onSync\",value:function(e){this.caller.onSync=e}},{key:\"list\",value:function(t){return e.list(this.state,t)}},{key:\"inPendingSyncState\",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:\"syncState\",value:function(e,t,n,i){var o=this,r=this.clone(e),s={},a={};return this.map(r,(function(e,n){t[e]||(a[e]=n)})),this.map(t,(function(e,t){var n=r[e];if(n){var i=t.metas.map((function(e){return e.phx_ref})),c=n.metas.map((function(e){return e.phx_ref})),u=t.metas.filter((function(e){return c.indexOf(e.phx_ref)<0})),h=n.metas.filter((function(e){return i.indexOf(e.phx_ref)<0}));u.length>0&&(s[e]=t,s[e].metas=u),h.length>0&&(a[e]=o.clone(n),a[e].metas=h)}else s[e]=t})),this.syncDiff(r,{joins:s,leaves:a},n,i)}},{key:\"syncDiff\",value:function(e,t,n,o){var r=t.joins,s=t.leaves,a=this.clone(e);return n||(n=function(){}),o||(o=function(){}),this.map(r,(function(e,t){var o=a[e];if(a[e]=t,o){var r,s=a[e].metas.map((function(e){return e.phx_ref})),c=o.metas.filter((function(e){return s.indexOf(e.phx_ref)<0}));(r=a[e].metas).unshift.apply(r,i(c))}n(e,o,t)})),this.map(s,(function(e,t){var n=a[e];if(n){var i=t.metas.map((function(e){return e.phx_ref}));n.metas=n.metas.filter((function(e){return i.indexOf(e.phx_ref)<0})),o(e,n,t),0===n.metas.length&&delete a[e]}})),a}},{key:\"list\",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,(function(e,n){return t(e,n)}))}},{key:\"map\",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))}},{key:\"clone\",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),N=function(){function e(t,n){c(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return h(e,[{key:\"reset\",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:\"scheduleTimeout\",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}()}])}));","\"use strict\";\n\n(function() {\n  var PolyfillEvent = eventConstructor();\n\n  function eventConstructor() {\n    if (typeof window.CustomEvent === \"function\") return window.CustomEvent;\n    // IE<=9 Support\n    function CustomEvent(event, params) {\n      params = params || {bubbles: false, cancelable: false, detail: undefined};\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    }\n    CustomEvent.prototype = window.Event.prototype;\n    return CustomEvent;\n  }\n\n  function buildHiddenInput(name, value) {\n    var input = document.createElement(\"input\");\n    input.type = \"hidden\";\n    input.name = name;\n    input.value = value;\n    return input;\n  }\n\n  function handleClick(element, targetModifierKey) {\n    var to = element.getAttribute(\"data-to\"),\n        method = buildHiddenInput(\"_method\", element.getAttribute(\"data-method\")),\n        csrf = buildHiddenInput(\"_csrf_token\", element.getAttribute(\"data-csrf\")),\n        form = document.createElement(\"form\"),\n        target = element.getAttribute(\"target\");\n\n    form.method = (element.getAttribute(\"data-method\") === \"get\") ? \"get\" : \"post\";\n    form.action = to;\n    form.style.display = \"hidden\";\n\n    if (target) form.target = target;\n    else if (targetModifierKey) form.target = \"_blank\";\n\n    form.appendChild(csrf);\n    form.appendChild(method);\n    document.body.appendChild(form);\n    form.submit();\n  }\n\n  window.addEventListener(\"click\", function(e) {\n    var element = e.target;\n\n    while (element && element.getAttribute) {\n      var phoenixLinkEvent = new PolyfillEvent('phoenix.link.click', {\n        \"bubbles\": true, \"cancelable\": true\n      });\n\n      if (!element.dispatchEvent(phoenixLinkEvent)) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        return false;\n      }\n\n      if (element.getAttribute(\"data-method\")) {\n        handleClick(element, e.metaKey || e.shiftKey);\n        e.preventDefault();\n        return false;\n      } else {\n        element = element.parentNode;\n      }\n    }\n  }, false);\n\n  window.addEventListener('phoenix.link.click', function (e) {\n    var message = e.target.getAttribute(\"data-confirm\");\n    if(message && !window.confirm(message)) {\n      e.preventDefault();\n    }\n  }, false);\n})();\n","\nexport const CONSECUTIVE_RELOADS = \"consecutive-reloads\"\nexport const MAX_RELOADS = 10\nexport const RELOAD_JITTER = [1000, 3000]\nexport const FAILSAFE_JITTER = 30000\nexport const PHX_EVENT_CLASSES = [\n  \"phx-click-loading\", \"phx-change-loading\", \"phx-submit-loading\",\n  \"phx-keydown-loading\", \"phx-keyup-loading\", \"phx-blur-loading\", \"phx-focus-loading\"\n]\nexport const PHX_COMPONENT = \"data-phx-component\"\nexport const PHX_LIVE_LINK = \"data-phx-link\"\nexport const PHX_TRACK_STATIC = \"track-static\"\nexport const PHX_LINK_STATE = \"data-phx-link-state\"\nexport const PHX_REF = \"data-phx-ref\"\nexport const PHX_TRACK_UPLOADS = \"track-uploads\"\nexport const PHX_UPLOAD_REF = \"data-phx-upload-ref\"\nexport const PHX_PREFLIGHTED_REFS = \"data-phx-preflighted-refs\"\nexport const PHX_DONE_REFS = \"data-phx-done-refs\"\nexport const PHX_DROP_TARGET = \"drop-target\"\nexport const PHX_ACTIVE_ENTRY_REFS = \"data-phx-active-refs\"\nexport const PHX_LIVE_FILE_UPDATED = \"phx:live-file:updated\"\nexport const PHX_SKIP = \"data-phx-skip\"\nexport const PHX_REMOVE = \"data-phx-remove\"\nexport const PHX_PAGE_LOADING = \"page-loading\"\nexport const PHX_CONNECTED_CLASS = \"phx-connected\"\nexport const PHX_DISCONNECTED_CLASS = \"phx-disconnected\"\nexport const PHX_NO_FEEDBACK_CLASS = \"phx-no-feedback\"\nexport const PHX_ERROR_CLASS = \"phx-error\"\nexport const PHX_PARENT_ID = \"data-phx-parent-id\"\nexport const PHX_MAIN = \"data-phx-main\"\nexport const PHX_ROOT_ID = \"data-phx-root-id\"\nexport const PHX_TRIGGER_ACTION = \"trigger-action\"\nexport const PHX_FEEDBACK_FOR = \"feedback-for\"\nexport const PHX_HAS_FOCUSED = \"phx-has-focused\"\nexport const FOCUSABLE_INPUTS = [\"text\", \"textarea\", \"number\", \"email\", \"password\", \"search\", \"tel\", \"url\", \"date\", \"time\"]\nexport const CHECKABLE_INPUTS = [\"checkbox\", \"radio\"]\nexport const PHX_HAS_SUBMITTED = \"phx-has-submitted\"\nexport const PHX_SESSION = \"data-phx-session\"\nexport const PHX_VIEW_SELECTOR = `[${PHX_SESSION}]`\nexport const PHX_STATIC = \"data-phx-static\"\nexport const PHX_READONLY = \"data-phx-readonly\"\nexport const PHX_DISABLED = \"data-phx-disabled\"\nexport const PHX_DISABLE_WITH = \"disable-with\"\nexport const PHX_DISABLE_WITH_RESTORE = \"data-phx-disable-with-restore\"\nexport const PHX_HOOK = \"hook\"\nexport const PHX_DEBOUNCE = \"debounce\"\nexport const PHX_THROTTLE = \"throttle\"\nexport const PHX_UPDATE = \"update\"\nexport const PHX_KEY = \"key\"\nexport const PHX_PRIVATE = \"phxPrivate\"\nexport const PHX_AUTO_RECOVER = \"auto-recover\"\nexport const PHX_LV_DEBUG = \"phx:live-socket:debug\"\nexport const PHX_LV_PROFILE = \"phx:live-socket:profiling\"\nexport const PHX_LV_LATENCY_SIM = \"phx:live-socket:latency-sim\"\nexport const PHX_PROGRESS = \"progress\"\nexport const LOADER_TIMEOUT = 1\nexport const BEFORE_UNLOAD_LOADER_TIMEOUT = 200\nexport const BINDING_PREFIX = \"phx-\"\nexport const PUSH_TIMEOUT = 30000\nexport const LINK_HEADER = \"x-requested-with\"\nexport const RESPONSE_URL_HEADER = \"x-response-url\"\nexport const DEBOUNCE_TRIGGER = \"debounce-trigger\"\nexport const THROTTLED = \"throttled\"\nexport const DEBOUNCE_PREV_KEY = \"debounce-prev-key\"\nexport const DEFAULTS = {\n  debounce: 300,\n  throttle: 300\n}\n\n// Rendered\nexport const DYNAMICS = \"d\"\nexport const STATIC = \"s\"\nexport const COMPONENTS = \"c\"\nexport const EVENTS = \"e\"\nexport const REPLY = \"r\"\nexport const TITLE = \"t\"\n","import {\n  logError\n} from \"./utils\"\n\nexport default class EntryUploader {\n  constructor(entry, chunkSize, liveSocket){\n    this.liveSocket = liveSocket\n    this.entry = entry\n    this.offset = 0\n    this.chunkSize = chunkSize\n    this.chunkTimer = null\n    this.uploadChannel = liveSocket.channel(`lvu:${entry.ref}`, {token: entry.metadata()})\n  }\n\n  error(reason){\n    clearTimeout(this.chunkTimer)\n    this.uploadChannel.leave()\n    this.entry.error(reason)\n  }\n\n  upload(){\n    this.uploadChannel.onError(reason => this.error(reason))\n    this.uploadChannel.join()\n      .receive(\"ok\", _data => this.readNextChunk())\n      .receive(\"error\", reason => this.error(reason))\n  }\n\n  isDone(){ return this.offset >= this.entry.file.size }\n\n  readNextChunk(){\n    let reader = new window.FileReader()\n    let blob = this.entry.file.slice(this.offset, this.chunkSize + this.offset)\n    reader.onload = (e) => {\n      if(e.target.error === null){\n        this.offset += e.target.result.byteLength\n        this.pushChunk(e.target.result)\n      } else {\n        return logError(\"Read error: \" + e.target.error)\n      }\n    }\n    reader.readAsArrayBuffer(blob)\n  }\n\n  pushChunk(chunk){\n    if(!this.uploadChannel.isJoined()){ return }\n    this.uploadChannel.push(\"chunk\", chunk)\n      .receive(\"ok\", () => {\n        this.entry.progress((this.offset / this.entry.file.size) * 100)\n        if(!this.isDone()){\n          this.chunkTimer = setTimeout(() => this.readNextChunk(), this.liveSocket.getLatencySim() || 0)\n        }\n      })\n  }\n}\n","import {\n  PHX_VIEW_SELECTOR\n} from \"./constants\"\n\nimport EntryUploader from \"./entry_uploader\"\n\nexport let logError = (msg, obj) => console.error && console.error(msg, obj)\n\nexport let isCid = (cid) => typeof(cid) === \"number\"\n\nexport function detectDuplicateIds(){\n  let ids = new Set()\n  let elems = document.querySelectorAll(\"*[id]\")\n  for(let i = 0, len = elems.length; i < len; i++){\n    if(ids.has(elems[i].id)){\n      console.error(`Multiple IDs detected: ${elems[i].id}. Ensure unique element ids.`)\n    } else {\n      ids.add(elems[i].id)\n    }\n  }\n}\n\nexport let debug = (view, kind, msg, obj) => {\n  if(view.liveSocket.isDebugEnabled()){\n    console.log(`${view.id} ${kind}: ${msg} - `, obj)\n  }\n}\n\n// wraps value in closure or returns closure\nexport let closure = (val) => typeof val === \"function\" ? val : function (){ return val }\n\nexport let clone = (obj) => { return JSON.parse(JSON.stringify(obj)) }\n\nexport let closestPhxBinding = (el, binding, borderEl) => {\n  do {\n    if(el.matches(`[${binding}]`)){ return el }\n    el = el.parentElement || el.parentNode\n  } while(el !== null && el.nodeType === 1 && !((borderEl && borderEl.isSameNode(el)) || el.matches(PHX_VIEW_SELECTOR)))\n  return null\n}\n\nexport let isObject = (obj) => {\n  return obj !== null && typeof obj === \"object\" && !(obj instanceof Array)\n}\n\nexport let isEqualObj = (obj1, obj2) => JSON.stringify(obj1) === JSON.stringify(obj2)\n\nexport let isEmpty = (obj) => {\n  for(let x in obj){ return false }\n  return true\n}\n\nexport let maybe = (el, callback) => el && callback(el)\n\nexport let channelUploader = function (entries, onError, resp, liveSocket){\n  entries.forEach(entry => {\n    let entryUploader = new EntryUploader(entry, resp.config.chunk_size, liveSocket)\n    entryUploader.upload()\n  })\n}\n","let Browser = {\n  canPushState(){ return (typeof (history.pushState) !== \"undefined\") },\n\n  dropLocal(localStorage, namespace, subkey){\n    return localStorage.removeItem(this.localKey(namespace, subkey))\n  },\n\n  updateLocal(localStorage, namespace, subkey, initial, func){\n    let current = this.getLocal(localStorage, namespace, subkey)\n    let key = this.localKey(namespace, subkey)\n    let newVal = current === null ? initial : func(current)\n    localStorage.setItem(key, JSON.stringify(newVal))\n    return newVal\n  },\n\n  getLocal(localStorage, namespace, subkey){\n    return JSON.parse(localStorage.getItem(this.localKey(namespace, subkey)))\n  },\n\n  updateCurrentState(callback){\n    if(!this.canPushState()){ return }\n    history.replaceState(callback(history.state || {}), \"\", window.location.href)\n  },\n\n  pushState(kind, meta, to){\n    if(this.canPushState()){\n      if(to !== window.location.href){\n        if(meta.type == \"redirect\" && meta.scroll){\n          // If we're redirecting store the current scrollY for the current history state.\n          let currentState = history.state || {}\n          currentState.scroll = meta.scroll\n          history.replaceState(currentState, \"\", window.location.href)\n        }\n\n        delete meta.scroll // Only store the scroll in the redirect case.\n        history[kind + \"State\"](meta, \"\", to || null) // IE will coerce undefined to string\n        let hashEl = this.getHashTargetEl(window.location.hash)\n\n        if(hashEl){\n          hashEl.scrollIntoView()\n        } else if(meta.type === \"redirect\"){\n          window.scroll(0, 0)\n        }\n      }\n    } else {\n      this.redirect(to)\n    }\n  },\n\n  setCookie(name, value){\n    document.cookie = `${name}=${value}`\n  },\n\n  getCookie(name){\n    return document.cookie.replace(new RegExp(`(?:(?:^|.*;\\s*)${name}\\s*\\=\\s*([^;]*).*$)|^.*$`), \"$1\")\n  },\n\n  redirect(toURL, flash){\n    if(flash){ Browser.setCookie(\"__phoenix_flash__\", flash + \"; max-age=60000; path=/\") }\n    window.location = toURL\n  },\n\n  localKey(namespace, subkey){ return `${namespace}-${subkey}` },\n\n  getHashTargetEl(maybeHash){\n    let hash = maybeHash.toString().substring(1)\n    if(hash === \"\"){ return }\n    return document.getElementById(hash) || document.querySelector(`a[name=\"${hash}\"]`)\n  }\n}\n\nexport default Browser\n","import {\n  CHECKABLE_INPUTS,\n  DEBOUNCE_PREV_KEY,\n  DEBOUNCE_TRIGGER,\n  FOCUSABLE_INPUTS,\n  PHX_COMPONENT,\n  PHX_EVENT_CLASSES,\n  PHX_HAS_FOCUSED,\n  PHX_HAS_SUBMITTED,\n  PHX_MAIN,\n  PHX_NO_FEEDBACK_CLASS,\n  PHX_PARENT_ID,\n  PHX_PRIVATE,\n  PHX_REF,\n  PHX_SESSION,\n  PHX_STATIC,\n  PHX_UPLOAD_REF,\n  PHX_VIEW_SELECTOR,\n  THROTTLED\n} from \"./constants\"\n\nimport {\n  clone,\n  logError\n} from \"./utils\"\n\nlet DOM = {\n  byId(id){ return document.getElementById(id) || logError(`no id found for ${id}`) },\n\n  removeClass(el, className){\n    el.classList.remove(className)\n    if(el.classList.length === 0){ el.removeAttribute(\"class\") }\n  },\n\n  all(node, query, callback){\n    if(!node){ return [] }\n    let array = Array.from(node.querySelectorAll(query))\n    return callback ? array.forEach(callback) : array\n  },\n\n  childNodeLength(html){\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n    return template.content.childElementCount\n  },\n\n  isUploadInput(el){ return el.type === \"file\" && el.getAttribute(PHX_UPLOAD_REF) !== null },\n\n  findUploadInputs(node){ return this.all(node, `input[type=\"file\"][${PHX_UPLOAD_REF}]`) },\n\n  findComponentNodeList(node, cid){\n    return this.filterWithinSameLiveView(this.all(node, `[${PHX_COMPONENT}=\"${cid}\"]`), node)\n  },\n\n  isPhxDestroyed(node){\n    return node.id && DOM.private(node, \"destroyed\") ? true : false\n  },\n\n  markPhxChildDestroyed(el){\n    el.setAttribute(PHX_SESSION, \"\")\n    this.putPrivate(el, \"destroyed\", true)\n  },\n\n  findPhxChildrenInFragment(html, parentId){\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n    return this.findPhxChildren(template.content, parentId)\n  },\n\n  isIgnored(el, phxUpdate){\n    return (el.getAttribute(phxUpdate) || el.getAttribute(\"data-phx-update\")) === \"ignore\"\n  },\n\n  isPhxUpdate(el, phxUpdate, updateTypes){\n    return el.getAttribute && updateTypes.indexOf(el.getAttribute(phxUpdate)) >= 0\n  },\n\n  findPhxChildren(el, parentId){\n    return this.all(el, `${PHX_VIEW_SELECTOR}[${PHX_PARENT_ID}=\"${parentId}\"]`)\n  },\n\n  findParentCIDs(node, cids){\n    let initial = new Set(cids)\n    return cids.reduce((acc, cid) => {\n      let selector = `[${PHX_COMPONENT}=\"${cid}\"] [${PHX_COMPONENT}]`\n\n      this.filterWithinSameLiveView(this.all(node, selector), node)\n        .map(el => parseInt(el.getAttribute(PHX_COMPONENT)))\n        .forEach(childCID => acc.delete(childCID))\n\n      return acc\n    }, initial)\n  },\n\n  filterWithinSameLiveView(nodes, parent){\n    if(parent.querySelector(PHX_VIEW_SELECTOR)){\n      return nodes.filter(el => this.withinSameLiveView(el, parent))\n    } else {\n      return nodes\n    }\n  },\n\n  withinSameLiveView(node, parent){\n    while(node = node.parentNode){\n      if(node.isSameNode(parent)){ return true }\n      if(node.getAttribute(PHX_SESSION) !== null){ return false }\n    }\n  },\n\n  private(el, key){ return el[PHX_PRIVATE] && el[PHX_PRIVATE][key] },\n\n  deletePrivate(el, key){ el[PHX_PRIVATE] && delete (el[PHX_PRIVATE][key]) },\n\n  putPrivate(el, key, value){\n    if(!el[PHX_PRIVATE]){ el[PHX_PRIVATE] = {} }\n    el[PHX_PRIVATE][key] = value\n  },\n\n  copyPrivates(target, source){\n    if(source[PHX_PRIVATE]){\n      target[PHX_PRIVATE] = clone(source[PHX_PRIVATE])\n    }\n  },\n\n  putTitle(str){\n    let titleEl = document.querySelector(\"title\")\n    let {prefix, suffix} = titleEl.dataset\n    document.title = `${prefix || \"\"}${str}${suffix || \"\"}`\n  },\n\n  debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, callback){\n    let debounce = el.getAttribute(phxDebounce)\n    let throttle = el.getAttribute(phxThrottle)\n    if(debounce === \"\"){ debounce = defaultDebounce }\n    if(throttle === \"\"){ throttle = defaultThrottle }\n    let value = debounce || throttle\n    switch(value){\n      case null: return callback()\n\n      case \"blur\":\n        if(this.once(el, \"debounce-blur\")){\n          el.addEventListener(\"blur\", () => callback())\n        }\n        return\n\n      default:\n        let timeout = parseInt(value)\n        let trigger = () => throttle ? this.deletePrivate(el, THROTTLED) : callback()\n        let currentCycle = this.incCycle(el, DEBOUNCE_TRIGGER, trigger)\n        if(isNaN(timeout)){ return logError(`invalid throttle/debounce value: ${value}`) }\n        if(throttle){\n          let newKeyDown = false\n          if(event.type === \"keydown\"){\n            let prevKey = this.private(el, DEBOUNCE_PREV_KEY)\n            this.putPrivate(el, DEBOUNCE_PREV_KEY, event.key)\n            newKeyDown = prevKey !== event.key\n          }\n\n          if(!newKeyDown && this.private(el, THROTTLED)){\n            return false\n          } else {\n            callback()\n            this.putPrivate(el, THROTTLED, true)\n            setTimeout(() => this.triggerCycle(el, DEBOUNCE_TRIGGER), timeout)\n          }\n        } else {\n          setTimeout(() => this.triggerCycle(el, DEBOUNCE_TRIGGER, currentCycle), timeout)\n        }\n\n\n        let form = el.form\n        if(form && this.once(form, \"bind-debounce\")){\n          form.addEventListener(\"submit\", () => {\n            Array.from((new FormData(form)).entries(), ([name]) => {\n              let input = form.querySelector(`[name=\"${name}\"]`)\n              this.incCycle(input, DEBOUNCE_TRIGGER)\n              this.deletePrivate(input, THROTTLED)\n            })\n          })\n        }\n        if(this.once(el, \"bind-debounce\")){\n          el.addEventListener(\"blur\", () => this.triggerCycle(el, DEBOUNCE_TRIGGER))\n        }\n    }\n  },\n\n  triggerCycle(el, key, currentCycle){\n    let [cycle, trigger] = this.private(el, key)\n    if(!currentCycle){ currentCycle = cycle }\n    if(currentCycle === cycle){\n      this.incCycle(el, key)\n      trigger()\n    }\n  },\n\n  once(el, key){\n    if(this.private(el, key) === true){ return false }\n    this.putPrivate(el, key, true)\n    return true\n  },\n\n  incCycle(el, key, trigger = function (){ }){\n    let [currentCycle] = this.private(el, key) || [0, trigger]\n    currentCycle++\n    this.putPrivate(el, key, [currentCycle, trigger])\n    return currentCycle\n  },\n\n  discardError(container, el, phxFeedbackFor){\n    let field = el.getAttribute && el.getAttribute(phxFeedbackFor)\n    // TODO: Remove id lookup after we update Phoenix to use input_name instead of input_id\n    let input = field && container.querySelector(`[id=\"${field}\"], [name=\"${field}\"]`)\n    if(!input){ return }\n\n    if(!(this.private(input, PHX_HAS_FOCUSED) || this.private(input.form, PHX_HAS_SUBMITTED))){\n      el.classList.add(PHX_NO_FEEDBACK_CLASS)\n    }\n  },\n\n  showError(inputEl, phxFeedbackFor){\n    if(inputEl.id || inputEl.name){\n      this.all(inputEl.form, `[${phxFeedbackFor}=\"${inputEl.id}\"], [${phxFeedbackFor}=\"${inputEl.name}\"]`, (el) => {\n        this.removeClass(el, PHX_NO_FEEDBACK_CLASS)\n      })\n    }\n  },\n\n  isPhxChild(node){\n    return node.getAttribute && node.getAttribute(PHX_PARENT_ID)\n  },\n\n  dispatchEvent(target, eventString, detail = {}){\n    let event = new CustomEvent(eventString, {bubbles: true, cancelable: true, detail: detail})\n    target.dispatchEvent(event)\n  },\n\n  cloneNode(node, html){\n    if(typeof (html) === \"undefined\"){\n      return node.cloneNode(true)\n    } else {\n      let cloned = node.cloneNode(false)\n      cloned.innerHTML = html\n      return cloned\n    }\n  },\n\n  mergeAttrs(target, source, opts = {}){\n    let exclude = opts.exclude || []\n    let isIgnored = opts.isIgnored\n    let sourceAttrs = source.attributes\n    for(let i = sourceAttrs.length - 1; i >= 0; i--){\n      let name = sourceAttrs[i].name\n      if(exclude.indexOf(name) < 0){ target.setAttribute(name, source.getAttribute(name)) }\n    }\n\n    let targetAttrs = target.attributes\n    for(let i = targetAttrs.length - 1; i >= 0; i--){\n      let name = targetAttrs[i].name\n      if(isIgnored){\n        if(name.startsWith(\"data-\") && !source.hasAttribute(name)){ target.removeAttribute(name) }\n      } else {\n        if(!source.hasAttribute(name)){ target.removeAttribute(name) }\n      }\n    }\n  },\n\n  mergeFocusedInput(target, source){\n    // skip selects because FF will reset highlighted index for any setAttribute\n    if(!(target instanceof HTMLSelectElement)){ DOM.mergeAttrs(target, source, {except: [\"value\"]}) }\n    if(source.readOnly){\n      target.setAttribute(\"readonly\", true)\n    } else {\n      target.removeAttribute(\"readonly\")\n    }\n  },\n\n  hasSelectionRange(el){\n    return el.setSelectionRange && (el.type === \"text\" || el.type === \"textarea\")\n  },\n\n  restoreFocus(focused, selectionStart, selectionEnd){\n    if(!DOM.isTextualInput(focused)){ return }\n    let wasFocused = focused.matches(\":focus\")\n    if(focused.readOnly){ focused.blur() }\n    if(!wasFocused){ focused.focus() }\n    if(this.hasSelectionRange(focused)){\n      focused.setSelectionRange(selectionStart, selectionEnd)\n    }\n  },\n\n  isFormInput(el){ return /^(?:input|select|textarea)$/i.test(el.tagName) && el.type !== \"button\" },\n\n  syncAttrsToProps(el){\n    if(el instanceof HTMLInputElement && CHECKABLE_INPUTS.indexOf(el.type.toLocaleLowerCase()) >= 0){\n      el.checked = el.getAttribute(\"checked\") !== null\n    }\n  },\n\n  syncPropsToAttrs(el){\n    if(el instanceof HTMLSelectElement){\n      let selectedItem = el.options.item(el.selectedIndex)\n      if(selectedItem && selectedItem.getAttribute(\"selected\") === null){\n        selectedItem.setAttribute(\"selected\", \"\")\n      }\n    }\n  },\n\n  isTextualInput(el){ return FOCUSABLE_INPUTS.indexOf(el.type) >= 0 },\n\n  isNowTriggerFormExternal(el, phxTriggerExternal){\n    return el.getAttribute && el.getAttribute(phxTriggerExternal) !== null\n  },\n\n  syncPendingRef(fromEl, toEl, disableWith){\n    let ref = fromEl.getAttribute(PHX_REF)\n    if(ref === null){ return true }\n\n    if(DOM.isFormInput(fromEl) || fromEl.getAttribute(disableWith) !== null){\n      if(DOM.isUploadInput(fromEl)){ DOM.mergeAttrs(fromEl, toEl, {isIgnored: true}) }\n      DOM.putPrivate(fromEl, PHX_REF, toEl)\n      return false\n    } else {\n      PHX_EVENT_CLASSES.forEach(className => {\n        fromEl.classList.contains(className) && toEl.classList.add(className)\n      })\n      toEl.setAttribute(PHX_REF, ref)\n      return true\n    }\n  },\n\n  cleanChildNodes(container, phxUpdate){\n    if(DOM.isPhxUpdate(container, phxUpdate, [\"append\", \"prepend\"])){\n      let toRemove = []\n      container.childNodes.forEach(childNode => {\n        if(!childNode.id){\n          // Skip warning if it's an empty text node (e.g. a new-line)\n          let isEmptyTextNode = childNode.nodeType === Node.TEXT_NODE && childNode.nodeValue.trim() === \"\"\n          if(!isEmptyTextNode){\n            logError(\"only HTML element tags with an id are allowed inside containers with phx-update.\\n\\n\" +\n              `removing illegal node: \"${(childNode.outerHTML || childNode.nodeValue).trim()}\"\\n\\n`)\n          }\n          toRemove.push(childNode)\n        }\n      })\n      toRemove.forEach(childNode => childNode.remove())\n    }\n  },\n\n  replaceRootContainer(container, tagName, attrs){\n    let retainedAttrs = new Set([\"id\", PHX_SESSION, PHX_STATIC, PHX_MAIN])\n    if(container.tagName.toLowerCase() === tagName.toLowerCase()){\n      Array.from(container.attributes)\n        .filter(attr => !retainedAttrs.has(attr.name.toLowerCase()))\n        .forEach(attr => container.removeAttribute(attr.name))\n\n      Object.keys(attrs)\n        .filter(name => !retainedAttrs.has(name.toLowerCase()))\n        .forEach(attr => container.setAttribute(attr, attrs[attr]))\n\n      return container\n\n    } else {\n      let newContainer = document.createElement(tagName)\n      Object.keys(attrs).forEach(attr => newContainer.setAttribute(attr, attrs[attr]))\n      retainedAttrs.forEach(attr => newContainer.setAttribute(attr, container.getAttribute(attr)))\n      newContainer.innerHTML = container.innerHTML\n      container.replaceWith(newContainer)\n      return newContainer\n    }\n  }\n}\n\nexport default DOM\n","import {\n  PHX_ACTIVE_ENTRY_REFS,\n  PHX_LIVE_FILE_UPDATED,\n  PHX_PREFLIGHTED_REFS\n} from \"./constants\"\n\nimport {\n  channelUploader,\n  logError\n} from \"./utils\"\n\nimport LiveUploader from \"./live_uploader\"\n\nexport default class UploadEntry {\n  static isActive(fileEl, file){\n    let isNew = file._phxRef === undefined\n    let activeRefs = fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(\",\")\n    let isActive = activeRefs.indexOf(LiveUploader.genFileRef(file)) >= 0\n    return file.size > 0 && (isNew || isActive)\n  }\n\n  static isPreflighted(fileEl, file){\n    let preflightedRefs = fileEl.getAttribute(PHX_PREFLIGHTED_REFS).split(\",\")\n    let isPreflighted = preflightedRefs.indexOf(LiveUploader.genFileRef(file)) >= 0\n    return isPreflighted && this.isActive(fileEl, file)\n  }\n\n  constructor(fileEl, file, view){\n    this.ref = LiveUploader.genFileRef(file)\n    this.fileEl = fileEl\n    this.file = file\n    this.view = view\n    this.meta = null\n    this._isCancelled = false\n    this._isDone = false\n    this._progress = 0\n    this._lastProgressSent = -1\n    this._onDone = function (){ }\n    this._onElUpdated = this.onElUpdated.bind(this)\n    this.fileEl.addEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated)\n  }\n\n  metadata(){ return this.meta }\n\n  progress(progress){\n    this._progress = Math.floor(progress)\n    if(this._progress > this._lastProgressSent){\n      if(this._progress >= 100){\n        this._progress = 100\n        this._lastProgressSent = 100\n        this._isDone = true\n        this.view.pushFileProgress(this.fileEl, this.ref, 100, () => {\n          LiveUploader.untrackFile(this.fileEl, this.file)\n          this._onDone()\n        })\n      } else {\n        this._lastProgressSent = this._progress\n        this.view.pushFileProgress(this.fileEl, this.ref, this._progress)\n      }\n    }\n  }\n\n  cancel(){\n    this._isCancelled = true\n    this._isDone = true\n    this._onDone()\n  }\n\n  isDone(){ return this._isDone }\n\n  error(reason = \"failed\"){\n    this.view.pushFileProgress(this.fileEl, this.ref, {error: reason})\n    LiveUploader.clearFiles(this.fileEl)\n  }\n\n  //private\n\n  onDone(callback){\n    this._onDone = () => {\n      this.fileEl.removeEventListener(PHX_LIVE_FILE_UPDATED, this._onElUpdated)\n      callback()\n    }\n  }\n\n  onElUpdated(){\n    let activeRefs = this.fileEl.getAttribute(PHX_ACTIVE_ENTRY_REFS).split(\",\")\n    if(activeRefs.indexOf(this.ref) === -1){ this.cancel() }\n  }\n\n  toPreflightPayload(){\n    return {\n      last_modified: this.file.lastModified,\n      name: this.file.name,\n      size: this.file.size,\n      type: this.file.type,\n      ref: this.ref\n    }\n  }\n\n  uploader(uploaders){\n    if(this.meta.uploader){\n      let callback = uploaders[this.meta.uploader] || logError(`no uploader configured for ${this.meta.uploader}`)\n      return {name: this.meta.uploader, callback: callback}\n    } else {\n      return {name: \"channel\", callback: channelUploader}\n    }\n  }\n\n  zipPostFlight(resp){\n    this.meta = resp.entries[this.ref]\n    if(!this.meta){ logError(`no preflight upload response returned with ref ${this.ref}`, {input: this.fileEl, response: resp}) }\n  }\n}\n","import {\n  PHX_DONE_REFS,\n  PHX_PREFLIGHTED_REFS,\n  PHX_UPLOAD_REF\n} from \"./constants\"\n\nimport {\n} from \"./utils\"\n\nimport DOM from \"./dom\"\nimport UploadEntry from \"./upload_entry\"\n\nlet liveUploaderFileRef = 0\n\nexport default class LiveUploader {\n  static genFileRef(file){\n    let ref = file._phxRef\n    if(ref !== undefined){\n      return ref\n    } else {\n      file._phxRef = (liveUploaderFileRef++).toString()\n      return file._phxRef\n    }\n  }\n\n  static getEntryDataURL(inputEl, ref, callback){\n    let file = this.activeFiles(inputEl).find(file => this.genFileRef(file) === ref)\n    callback(URL.createObjectURL(file))\n  }\n\n  static hasUploadsInProgress(formEl){\n    let active = 0\n    DOM.findUploadInputs(formEl).forEach(input => {\n      if(input.getAttribute(PHX_PREFLIGHTED_REFS) !== input.getAttribute(PHX_DONE_REFS)){\n        active++\n      }\n    })\n    return active > 0\n  }\n\n  static serializeUploads(inputEl){\n    let files = this.activeFiles(inputEl)\n    let fileData = {}\n    files.forEach(file => {\n      let entry = {path: inputEl.name}\n      let uploadRef = inputEl.getAttribute(PHX_UPLOAD_REF)\n      fileData[uploadRef] = fileData[uploadRef] || []\n      entry.ref = this.genFileRef(file)\n      entry.name = file.name || entry.ref\n      entry.type = file.type\n      entry.size = file.size\n      fileData[uploadRef].push(entry)\n    })\n    return fileData\n  }\n\n  static clearFiles(inputEl){\n    inputEl.value = null\n    inputEl.removeAttribute(PHX_UPLOAD_REF)\n    DOM.putPrivate(inputEl, \"files\", [])\n  }\n\n  static untrackFile(inputEl, file){\n    DOM.putPrivate(inputEl, \"files\", DOM.private(inputEl, \"files\").filter(f => !Object.is(f, file)))\n  }\n\n  static trackFiles(inputEl, files){\n    if(inputEl.getAttribute(\"multiple\") !== null){\n      let newFiles = files.filter(file => !this.activeFiles(inputEl).find(f => Object.is(f, file)))\n      DOM.putPrivate(inputEl, \"files\", this.activeFiles(inputEl).concat(newFiles))\n      inputEl.value = null\n    } else {\n      DOM.putPrivate(inputEl, \"files\", files)\n    }\n  }\n\n  static activeFileInputs(formEl){\n    let fileInputs = DOM.findUploadInputs(formEl)\n    return Array.from(fileInputs).filter(el => el.files && this.activeFiles(el).length > 0)\n  }\n\n  static activeFiles(input){\n    return (DOM.private(input, \"files\") || []).filter(f => UploadEntry.isActive(input, f))\n  }\n\n  static inputsAwaitingPreflight(formEl){\n    let fileInputs = DOM.findUploadInputs(formEl)\n    return Array.from(fileInputs).filter(input => this.filesAwaitingPreflight(input).length > 0)\n  }\n\n  static filesAwaitingPreflight(input){\n    return this.activeFiles(input).filter(f => !UploadEntry.isPreflighted(input, f))\n  }\n\n  constructor(inputEl, view, onComplete){\n    this.view = view\n    this.onComplete = onComplete\n    this._entries =\n      Array.from(LiveUploader.filesAwaitingPreflight(inputEl) || [])\n        .map(file => new UploadEntry(inputEl, file, view))\n\n    this.numEntriesInProgress = this._entries.length\n  }\n\n  entries(){ return this._entries }\n\n  initAdapterUpload(resp, onError, liveSocket){\n    this._entries =\n      this._entries.map(entry => {\n        entry.zipPostFlight(resp)\n        entry.onDone(() => {\n          this.numEntriesInProgress--\n          if(this.numEntriesInProgress === 0){ this.onComplete() }\n        })\n        return entry\n      })\n\n    let groupedEntries = this._entries.reduce((acc, entry) => {\n      let {name, callback} = entry.uploader(liveSocket.uploaders)\n      acc[name] = acc[name] || {callback: callback, entries: []}\n      acc[name].entries.push(entry)\n      return acc\n    }, {})\n\n    for(let name in groupedEntries){\n      let {callback, entries} = groupedEntries[name]\n      callback(entries, onError, resp, liveSocket)\n    }\n  }\n}\n","import {\n  PHX_ACTIVE_ENTRY_REFS,\n  PHX_LIVE_FILE_UPDATED,\n  PHX_PREFLIGHTED_REFS,\n  PHX_UPLOAD_REF\n} from \"./constants\"\n\nimport LiveUploader from \"./live_uploader\"\n\nlet Hooks = {\n  LiveFileUpload: {\n    activeRefs(){ return this.el.getAttribute(PHX_ACTIVE_ENTRY_REFS) },\n\n    preflightedRefs(){ return this.el.getAttribute(PHX_PREFLIGHTED_REFS) },\n\n    mounted(){ this.preflightedWas = this.preflightedRefs() },\n\n    updated(){\n      let newPreflights = this.preflightedRefs()\n      if(this.preflightedWas !== newPreflights){\n        this.preflightedWas = newPreflights\n        if(newPreflights === \"\"){\n          this.__view.cancelSubmit(this.el.form)\n        }\n      }\n\n      if(this.activeRefs() === \"\"){ this.el.value = null }\n      this.el.dispatchEvent(new CustomEvent(PHX_LIVE_FILE_UPDATED))\n    }\n  },\n\n  LiveImgPreview: {\n    mounted(){\n      this.ref = this.el.getAttribute(\"data-phx-entry-ref\")\n      this.inputEl = document.getElementById(this.el.getAttribute(PHX_UPLOAD_REF))\n      LiveUploader.getEntryDataURL(this.inputEl, this.ref, url => {\n        this.url = url\n        this.el.src = url\n      })\n    },\n    destroyed(){\n      URL.revokeObjectURL(this.url)\n    }\n  }\n}\n\nexport default Hooks\n","import {\n  maybe\n} from \"./utils\"\n\nimport DOM from \"./dom\"\n\nexport default class DOMPostMorphRestorer {\n  constructor(containerBefore, containerAfter, updateType){\n    let idsBefore = new Set()\n    let idsAfter = new Set([...containerAfter.children].map(child => child.id))\n\n    let elementsToModify = []\n\n    Array.from(containerBefore.children).forEach(child => {\n      if(child.id){ // all of our children should be elements with ids\n        idsBefore.add(child.id)\n        if(idsAfter.has(child.id)){\n          let previousElementId = child.previousElementSibling && child.previousElementSibling.id\n          elementsToModify.push({elementId: child.id, previousElementId: previousElementId})\n        }\n      }\n    })\n\n    this.containerId = containerAfter.id\n    this.updateType = updateType\n    this.elementsToModify = elementsToModify\n    this.elementIdsToAdd = [...idsAfter].filter(id => !idsBefore.has(id))\n  }\n\n  // We do the following to optimize append/prepend operations:\n  //   1) Track ids of modified elements & of new elements\n  //   2) All the modified elements are put back in the correct position in the DOM tree\n  //      by storing the id of their previous sibling\n  //   3) New elements are going to be put in the right place by morphdom during append.\n  //      For prepend, we move them to the first position in the container\n  perform(){\n    let container = DOM.byId(this.containerId)\n    this.elementsToModify.forEach(elementToModify => {\n      if(elementToModify.previousElementId){\n        maybe(document.getElementById(elementToModify.previousElementId), previousElem => {\n          maybe(document.getElementById(elementToModify.elementId), elem => {\n            let isInRightPlace = elem.previousElementSibling && elem.previousElementSibling.id == previousElem.id\n            if(!isInRightPlace){\n              previousElem.insertAdjacentElement(\"afterend\", elem)\n            }\n          })\n        })\n      } else {\n        // This is the first element in the container\n        maybe(document.getElementById(elementToModify.elementId), elem => {\n          let isInRightPlace = elem.previousElementSibling == null\n          if(!isInRightPlace){\n            container.insertAdjacentElement(\"afterbegin\", elem)\n          }\n        })\n      }\n    })\n\n    if(this.updateType == \"prepend\"){\n      this.elementIdsToAdd.reverse().forEach(elemId => {\n        maybe(document.getElementById(elemId), elem => container.insertAdjacentElement(\"afterbegin\", elem))\n      })\n    }\n  }\n}\n","var DOCUMENT_FRAGMENT_NODE = 11;\n\nfunction morphAttrs(fromNode, toNode) {\n    var toNodeAttrs = toNode.attributes;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    // document-fragments dont have attributes so lets not do anything\n    if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE || fromNode.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return;\n    }\n\n    // update attributes on original DOM element\n    for (var i = toNodeAttrs.length - 1; i >= 0; i--) {\n        attr = toNodeAttrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                if (attr.prefix === 'xmlns'){\n                    attrName = attr.name; // It's not allowed to set an attribute with the XMLNS namespace without specifying the `xmlns` prefix\n                }\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    var fromNodeAttrs = fromNode.attributes;\n\n    for (var d = fromNodeAttrs.length - 1; d >= 0; d--) {\n        attr = fromNodeAttrs[d];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n\n            if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n            }\n        } else {\n            if (!toNode.hasAttribute(attrName)) {\n                fromNode.removeAttribute(attrName);\n            }\n        }\n    }\n}\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\nvar HAS_TEMPLATE_SUPPORT = !!doc && 'content' in doc.createElement('template');\nvar HAS_RANGE_SUPPORT = !!doc && doc.createRange && 'createContextualFragment' in doc.createRange();\n\nfunction createFragmentFromTemplate(str) {\n    var template = doc.createElement('template');\n    template.innerHTML = str;\n    return template.content.childNodes[0];\n}\n\nfunction createFragmentFromRange(str) {\n    if (!range) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment = range.createContextualFragment(str);\n    return fragment.childNodes[0];\n}\n\nfunction createFragmentFromWrap(str) {\n    var fragment = doc.createElement('body');\n    fragment.innerHTML = str;\n    return fragment.childNodes[0];\n}\n\n/**\n * This is about the same\n * var html = new DOMParser().parseFromString(str, 'text/html');\n * return html.body.firstChild;\n *\n * @method toElement\n * @param {String} str\n */\nfunction toElement(str) {\n    str = str.trim();\n    if (HAS_TEMPLATE_SUPPORT) {\n      // avoid restrictions on content for things like `<tr><th>Hi</th></tr>` which\n      // createContextualFragment doesn't support\n      // <template> support not available in IE\n      return createFragmentFromTemplate(str);\n    } else if (HAS_RANGE_SUPPORT) {\n      return createFragmentFromRange(str);\n    }\n\n    return createFragmentFromWrap(str);\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n    var fromCodeStart, toCodeStart;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    fromCodeStart = fromNodeName.charCodeAt(0);\n    toCodeStart = toNodeName.charCodeAt(0);\n\n    // If the target element is a virtual DOM node or SVG node then we may\n    // need to normalize the tag name before comparing. Normal HTML elements that are\n    // in the \"http://www.w3.org/1999/xhtml\"\n    // are converted to upper case\n    if (fromCodeStart <= 90 && toCodeStart >= 97) { // from is upper and to is lower\n        return fromNodeName === toNodeName.toUpperCase();\n    } else if (toCodeStart <= 90 && fromCodeStart >= 97) { // to is upper and from is lower\n        return toNodeName === fromNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name);\n        }\n    }\n}\n\nvar specialElHandlers = {\n    OPTION: function(fromEl, toEl) {\n        var parentNode = fromEl.parentNode;\n        if (parentNode) {\n            var parentName = parentNode.nodeName.toUpperCase();\n            if (parentName === 'OPTGROUP') {\n                parentNode = parentNode.parentNode;\n                parentName = parentNode && parentNode.nodeName.toUpperCase();\n            }\n            if (parentName === 'SELECT' && !parentNode.hasAttribute('multiple')) {\n                if (fromEl.hasAttribute('selected') && !toEl.selected) {\n                    // Workaround for MS Edge bug where the 'selected' attribute can only be\n                    // removed if set to a non-empty value:\n                    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12087679/\n                    fromEl.setAttribute('selected', 'selected');\n                    fromEl.removeAttribute('selected');\n                }\n                // We have to reset select element's selectedIndex to -1, otherwise setting\n                // fromEl.selected using the syncBooleanAttrProp below has no effect.\n                // The correct selectedIndex will be set in the SELECT special handler below.\n                parentNode.selectedIndex = -1;\n            }\n        }\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!toEl.hasAttribute('value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!toEl.hasAttribute('multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            // We have to loop through children of fromEl, not toEl since nodes can be moved\n            // from toEl to fromEl directly when morphing.\n            // At the time this special handler is invoked, all children have already been morphed\n            // and appended to / removed from fromEl, so using fromEl here is safe and correct.\n            var curChild = fromEl.firstChild;\n            var optgroup;\n            var nodeName;\n            while(curChild) {\n                nodeName = curChild.nodeName && curChild.nodeName.toUpperCase();\n                if (nodeName === 'OPTGROUP') {\n                    optgroup = curChild;\n                    curChild = optgroup.firstChild;\n                } else {\n                    if (nodeName === 'OPTION') {\n                        if (curChild.hasAttribute('selected')) {\n                            selectedIndex = i;\n                            break;\n                        }\n                        i++;\n                    }\n                    curChild = curChild.nextSibling;\n                    if (!curChild && optgroup) {\n                        curChild = optgroup.nextSibling;\n                        optgroup = null;\n                    }\n                }\n            }\n\n            fromEl.selectedIndex = selectedIndex;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_FRAGMENT_NODE$1 = 11;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n  if (node) {\n      return (node.getAttribute && node.getAttribute('id')) || node.id;\n  }\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n    return function morphdom(fromNode, toNode, options) {\n        if (!options) {\n            options = {};\n        }\n\n        if (typeof toNode === 'string') {\n            if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML' || fromNode.nodeName === 'BODY') {\n                var toNodeHtml = toNode;\n                toNode = doc.createElement('html');\n                toNode.innerHTML = toNodeHtml;\n            } else {\n                toNode = toElement(toNode);\n            }\n        }\n\n        var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n        var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n        var onNodeAdded = options.onNodeAdded || noop;\n        var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n        var onElUpdated = options.onElUpdated || noop;\n        var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n        var onNodeDiscarded = options.onNodeDiscarded || noop;\n        var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n        var childrenOnly = options.childrenOnly === true;\n\n        // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n        var fromNodesLookup = Object.create(null);\n        var keyedRemovalList = [];\n\n        function addKeyedRemoval(key) {\n            keyedRemovalList.push(key);\n        }\n\n        function walkDiscardedChildNodes(node, skipKeyedNodes) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n\n                    var key = undefined;\n\n                    if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n                        // If we are skipping keyed nodes then we add the key\n                        // to a list so that it can be handled at the very end.\n                        addKeyedRemoval(key);\n                    } else {\n                        // Only report the node as discarded if it is not keyed. We do this because\n                        // at the end we loop through all keyed elements that were unmatched\n                        // and then discard them in one final pass.\n                        onNodeDiscarded(curChild);\n                        if (curChild.firstChild) {\n                            walkDiscardedChildNodes(curChild, skipKeyedNodes);\n                        }\n                    }\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        /**\n         * Removes a DOM node out of the original DOM\n         *\n         * @param  {Node} node The node to remove\n         * @param  {Node} parentNode The nodes parent\n         * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n         * @return {undefined}\n         */\n        function removeNode(node, parentNode, skipKeyedNodes) {\n            if (onBeforeNodeDiscarded(node) === false) {\n                return;\n            }\n\n            if (parentNode) {\n                parentNode.removeChild(node);\n            }\n\n            onNodeDiscarded(node);\n            walkDiscardedChildNodes(node, skipKeyedNodes);\n        }\n\n        // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n        // function indexTree(root) {\n        //     var treeWalker = document.createTreeWalker(\n        //         root,\n        //         NodeFilter.SHOW_ELEMENT);\n        //\n        //     var el;\n        //     while((el = treeWalker.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n        //\n        // function indexTree(node) {\n        //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n        //     var el;\n        //     while((el = nodeIterator.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        function indexTree(node) {\n            if (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n                var curChild = node.firstChild;\n                while (curChild) {\n                    var key = getNodeKey(curChild);\n                    if (key) {\n                        fromNodesLookup[key] = curChild;\n                    }\n\n                    // Walk recursively\n                    indexTree(curChild);\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        indexTree(fromNode);\n\n        function handleNodeAdded(el) {\n            onNodeAdded(el);\n\n            var curChild = el.firstChild;\n            while (curChild) {\n                var nextSibling = curChild.nextSibling;\n\n                var key = getNodeKey(curChild);\n                if (key) {\n                    var unmatchedFromEl = fromNodesLookup[key];\n                    // if we find a duplicate #id node in cache, replace `el` with cache value\n                    // and morph it to the child node.\n                    if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n                        curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n                        morphEl(unmatchedFromEl, curChild);\n                    } else {\n                      handleNodeAdded(curChild);\n                    }\n                } else {\n                  // recursively call for curChild and it's children to see if we find something in\n                  // fromNodesLookup\n                  handleNodeAdded(curChild);\n                }\n\n                curChild = nextSibling;\n            }\n        }\n\n        function cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey) {\n            // We have processed all of the \"to nodes\". If curFromNodeChild is\n            // non-null then we still have some from nodes left over that need\n            // to be removed\n            while (curFromNodeChild) {\n                var fromNextSibling = curFromNodeChild.nextSibling;\n                if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n                    // Since the node is keyed it might be matched up later so we defer\n                    // the actual removal to later\n                    addKeyedRemoval(curFromNodeKey);\n                } else {\n                    // NOTE: we skip nested keyed nodes from being removed since there is\n                    //       still a chance they will be matched up later\n                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                }\n                curFromNodeChild = fromNextSibling;\n            }\n        }\n\n        function morphEl(fromEl, toEl, childrenOnly) {\n            var toElKey = getNodeKey(toEl);\n\n            if (toElKey) {\n                // If an element with an ID is being morphed then it will be in the final\n                // DOM so clear it out of the saved elements collection\n                delete fromNodesLookup[toElKey];\n            }\n\n            if (!childrenOnly) {\n                // optional\n                if (onBeforeElUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n\n                // update attributes on original DOM element first\n                morphAttrs(fromEl, toEl);\n                // optional\n                onElUpdated(fromEl);\n\n                if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n            }\n\n            if (fromEl.nodeName !== 'TEXTAREA') {\n              morphChildren(fromEl, toEl);\n            } else {\n              specialElHandlers.TEXTAREA(fromEl, toEl);\n            }\n        }\n\n        function morphChildren(fromEl, toEl) {\n            var curToNodeChild = toEl.firstChild;\n            var curFromNodeChild = fromEl.firstChild;\n            var curToNodeKey;\n            var curFromNodeKey;\n\n            var fromNextSibling;\n            var toNextSibling;\n            var matchingFromEl;\n\n            // walk the children\n            outer: while (curToNodeChild) {\n                toNextSibling = curToNodeChild.nextSibling;\n                curToNodeKey = getNodeKey(curToNodeChild);\n\n                // walk the fromNode children all the way through\n                while (curFromNodeChild) {\n                    fromNextSibling = curFromNodeChild.nextSibling;\n\n                    if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n                        curToNodeChild = toNextSibling;\n                        curFromNodeChild = fromNextSibling;\n                        continue outer;\n                    }\n\n                    curFromNodeKey = getNodeKey(curFromNodeChild);\n\n                    var curFromNodeType = curFromNodeChild.nodeType;\n\n                    // this means if the curFromNodeChild doesnt have a match with the curToNodeChild\n                    var isCompatible = undefined;\n\n                    if (curFromNodeType === curToNodeChild.nodeType) {\n                        if (curFromNodeType === ELEMENT_NODE) {\n                            // Both nodes being compared are Element nodes\n\n                            if (curToNodeKey) {\n                                // The target node has a key so we want to match it up with the correct element\n                                // in the original DOM tree\n                                if (curToNodeKey !== curFromNodeKey) {\n                                    // The current element in the original DOM tree does not have a matching key so\n                                    // let's check our lookup to see if there is a matching element in the original\n                                    // DOM tree\n                                    if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                                        if (fromNextSibling === matchingFromEl) {\n                                            // Special case for single element removals. To avoid removing the original\n                                            // DOM node out of the tree (since that can break CSS transitions, etc.),\n                                            // we will instead discard the current node and wait until the next\n                                            // iteration to properly match up the keyed target element with its matching\n                                            // element in the original tree\n                                            isCompatible = false;\n                                        } else {\n                                            // We found a matching keyed element somewhere in the original DOM tree.\n                                            // Let's move the original DOM node into the current position and morph\n                                            // it.\n\n                                            // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                                            // the `removeNode()` function for the node that is being discarded so that\n                                            // all lifecycle hooks are correctly invoked\n                                            fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                                            // fromNextSibling = curFromNodeChild.nextSibling;\n\n                                            if (curFromNodeKey) {\n                                                // Since the node is keyed it might be matched up later so we defer\n                                                // the actual removal to later\n                                                addKeyedRemoval(curFromNodeKey);\n                                            } else {\n                                                // NOTE: we skip nested keyed nodes from being removed since there is\n                                                //       still a chance they will be matched up later\n                                                removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                                            }\n\n                                            curFromNodeChild = matchingFromEl;\n                                        }\n                                    } else {\n                                        // The nodes are not compatible since the \"to\" node has a key and there\n                                        // is no matching keyed node in the source tree\n                                        isCompatible = false;\n                                    }\n                                }\n                            } else if (curFromNodeKey) {\n                                // The original has a key\n                                isCompatible = false;\n                            }\n\n                            isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n                            if (isCompatible) {\n                                // We found compatible DOM elements so transform\n                                // the current \"from\" node to match the current\n                                // target DOM node.\n                                // MORPH\n                                morphEl(curFromNodeChild, curToNodeChild);\n                            }\n\n                        } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n                            // Both nodes being compared are Text or Comment nodes\n                            isCompatible = true;\n                            // Simply update nodeValue on the original node to\n                            // change the text value\n                            if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                                curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n                            }\n\n                        }\n                    }\n\n                    if (isCompatible) {\n                        // Advance both the \"to\" child and the \"from\" child since we found a match\n                        // Nothing else to do as we already recursively called morphChildren above\n                        curToNodeChild = toNextSibling;\n                        curFromNodeChild = fromNextSibling;\n                        continue outer;\n                    }\n\n                    // No compatible match so remove the old node from the DOM and continue trying to find a\n                    // match in the original DOM. However, we only do this if the from node is not keyed\n                    // since it is possible that a keyed node might match up with a node somewhere else in the\n                    // target tree and we don't want to discard it just yet since it still might find a\n                    // home in the final DOM tree. After everything is done we will remove any keyed nodes\n                    // that didn't find a home\n                    if (curFromNodeKey) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                    } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                    }\n\n                    curFromNodeChild = fromNextSibling;\n                } // END: while(curFromNodeChild) {}\n\n                // If we got this far then we did not find a candidate match for\n                // our \"to node\" and we exhausted all of the children \"from\"\n                // nodes. Therefore, we will just append the current \"to\" node\n                // to the end\n                if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n                    fromEl.appendChild(matchingFromEl);\n                    // MORPH\n                    morphEl(matchingFromEl, curToNodeChild);\n                } else {\n                    var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n                    if (onBeforeNodeAddedResult !== false) {\n                        if (onBeforeNodeAddedResult) {\n                            curToNodeChild = onBeforeNodeAddedResult;\n                        }\n\n                        if (curToNodeChild.actualize) {\n                            curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n                        }\n                        fromEl.appendChild(curToNodeChild);\n                        handleNodeAdded(curToNodeChild);\n                    }\n                }\n\n                curToNodeChild = toNextSibling;\n                curFromNodeChild = fromNextSibling;\n            }\n\n            cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey);\n\n            var specialElHandler = specialElHandlers[fromEl.nodeName];\n            if (specialElHandler) {\n                specialElHandler(fromEl, toEl);\n            }\n        } // END: morphChildren(...)\n\n        var morphedNode = fromNode;\n        var morphedNodeType = morphedNode.nodeType;\n        var toNodeType = toNode.nodeType;\n\n        if (!childrenOnly) {\n            // Handle the case where we are given two DOM nodes that are not\n            // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n            if (morphedNodeType === ELEMENT_NODE) {\n                if (toNodeType === ELEMENT_NODE) {\n                    if (!compareNodeNames(fromNode, toNode)) {\n                        onNodeDiscarded(fromNode);\n                        morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n                    }\n                } else {\n                    // Going from an element node to a text node\n                    morphedNode = toNode;\n                }\n            } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n                if (toNodeType === morphedNodeType) {\n                    if (morphedNode.nodeValue !== toNode.nodeValue) {\n                        morphedNode.nodeValue = toNode.nodeValue;\n                    }\n\n                    return morphedNode;\n                } else {\n                    // Text node to something else\n                    morphedNode = toNode;\n                }\n            }\n        }\n\n        if (morphedNode === toNode) {\n            // The \"to node\" was not compatible with the \"from node\" so we had to\n            // toss out the \"from node\" and use the \"to node\"\n            onNodeDiscarded(fromNode);\n        } else {\n            if (toNode.isSameNode && toNode.isSameNode(morphedNode)) {\n                return;\n            }\n\n            morphEl(morphedNode, toNode, childrenOnly);\n\n            // We now need to loop over any keyed nodes that might need to be\n            // removed. We only do the removal if we know that the keyed node\n            // never found a match. When a keyed node is matched up we remove\n            // it out of fromNodesLookup and we use fromNodesLookup to determine\n            // if a keyed node has been matched up or not\n            if (keyedRemovalList) {\n                for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n                    var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n                    if (elToRemove) {\n                        removeNode(elToRemove, elToRemove.parentNode, false);\n                    }\n                }\n            }\n        }\n\n        if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n            if (morphedNode.actualize) {\n                morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n            }\n            // If we had to swap out the from node with a new node because the old\n            // node was not compatible with the target node then we need to\n            // replace the old DOM node in the original DOM tree. This is only\n            // possible if the original DOM node was part of a DOM tree which\n            // we know is the case if it has a parent node.\n            fromNode.parentNode.replaceChild(morphedNode, fromNode);\n        }\n\n        return morphedNode;\n    };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nexport default morphdom;\n","import {\n  PHX_COMPONENT,\n  PHX_DISABLE_WITH,\n  PHX_FEEDBACK_FOR,\n  PHX_REMOVE,\n  PHX_ROOT_ID,\n  PHX_SESSION,\n  PHX_SKIP,\n  PHX_STATIC,\n  PHX_TRIGGER_ACTION,\n  PHX_UPDATE\n} from \"./constants\"\n\nimport {\n  detectDuplicateIds,\n  isCid\n} from \"./utils\"\n\nimport DOM from \"./dom\"\nimport DOMPostMorphRestorer from \"./dom_post_morph_restorer\"\nimport morphdom from \"morphdom\"\n\nexport default class DOMPatch {\n  static patchEl(fromEl, toEl, activeElement){\n    morphdom(fromEl, toEl, {\n      childrenOnly: false,\n      onBeforeElUpdated: (fromEl, toEl) => {\n        if(activeElement && activeElement.isSameNode(fromEl) && DOM.isFormInput(fromEl)){\n          DOM.mergeFocusedInput(fromEl, toEl)\n          return false\n        }\n      }\n    })\n  }\n\n  constructor(view, container, id, html, targetCID){\n    this.view = view\n    this.liveSocket = view.liveSocket\n    this.container = container\n    this.id = id\n    this.rootID = view.root.id\n    this.html = html\n    this.targetCID = targetCID\n    this.cidPatch = isCid(this.targetCID)\n    this.callbacks = {\n      beforeadded: [], beforeupdated: [], beforephxChildAdded: [],\n      afteradded: [], afterupdated: [], afterdiscarded: [], afterphxChildAdded: []\n    }\n  }\n\n  before(kind, callback){ this.callbacks[`before${kind}`].push(callback) }\n  after(kind, callback){ this.callbacks[`after${kind}`].push(callback) }\n\n  trackBefore(kind, ...args){\n    this.callbacks[`before${kind}`].forEach(callback => callback(...args))\n  }\n\n  trackAfter(kind, ...args){\n    this.callbacks[`after${kind}`].forEach(callback => callback(...args))\n  }\n\n  markPrunableContentForRemoval(){\n    DOM.all(this.container, \"[phx-update=append] > *, [phx-update=prepend] > *\", el => {\n      el.setAttribute(PHX_REMOVE, \"\")\n    })\n  }\n\n  perform(){\n    let {view, liveSocket, container, html} = this\n    let targetContainer = this.isCIDPatch() ? this.targetCIDContainer(html) : container\n    if(this.isCIDPatch() && !targetContainer){ return }\n\n    let focused = liveSocket.getActiveElement()\n    let {selectionStart, selectionEnd} = focused && DOM.hasSelectionRange(focused) ? focused : {}\n    let phxUpdate = liveSocket.binding(PHX_UPDATE)\n    let phxFeedbackFor = liveSocket.binding(PHX_FEEDBACK_FOR)\n    let disableWith = liveSocket.binding(PHX_DISABLE_WITH)\n    let phxTriggerExternal = liveSocket.binding(PHX_TRIGGER_ACTION)\n    let added = []\n    let updates = []\n    let appendPrependUpdates = []\n    let externalFormTriggered = null\n\n    let diffHTML = liveSocket.time(\"premorph container prep\", () => {\n      return this.buildDiffHTML(container, html, phxUpdate, targetContainer)\n    })\n\n    this.trackBefore(\"added\", container)\n    this.trackBefore(\"updated\", container, container)\n\n    liveSocket.time(\"morphdom\", () => {\n      morphdom(targetContainer, diffHTML, {\n        childrenOnly: targetContainer.getAttribute(PHX_COMPONENT) === null,\n        getNodeKey: (node) => {\n          return DOM.isPhxDestroyed(node) ? null : node.id\n        },\n        onBeforeNodeAdded: (el) => {\n          this.trackBefore(\"added\", el)\n          return el\n        },\n        onNodeAdded: (el) => {\n          if(DOM.isNowTriggerFormExternal(el, phxTriggerExternal)){\n            externalFormTriggered = el\n          }\n          //input handling\n          DOM.discardError(targetContainer, el, phxFeedbackFor)\n          // nested view handling\n          if(DOM.isPhxChild(el) && view.ownsElement(el)){\n            this.trackAfter(\"phxChildAdded\", el)\n          }\n          added.push(el)\n        },\n        onNodeDiscarded: (el) => {\n          // nested view handling\n          if(DOM.isPhxChild(el)){ liveSocket.destroyViewByEl(el) }\n          this.trackAfter(\"discarded\", el)\n        },\n        onBeforeNodeDiscarded: (el) => {\n          if(el.getAttribute && el.getAttribute(PHX_REMOVE) !== null){ return true }\n          if(el.parentNode !== null && DOM.isPhxUpdate(el.parentNode, phxUpdate, [\"append\", \"prepend\"]) && el.id){ return false }\n          if(this.skipCIDSibling(el)){ return false }\n          return true\n        },\n        onElUpdated: (el) => {\n          if(DOM.isNowTriggerFormExternal(el, phxTriggerExternal)){\n            externalFormTriggered = el\n          }\n          updates.push(el)\n        },\n        onBeforeElUpdated: (fromEl, toEl) => {\n          DOM.cleanChildNodes(toEl, phxUpdate)\n          if(this.skipCIDSibling(toEl)){ return false }\n          if(DOM.isIgnored(fromEl, phxUpdate)){\n            this.trackBefore(\"updated\", fromEl, toEl)\n            DOM.mergeAttrs(fromEl, toEl, {isIgnored: true})\n            updates.push(fromEl)\n            return false\n          }\n          if(fromEl.type === \"number\" && (fromEl.validity && fromEl.validity.badInput)){ return false }\n          if(!DOM.syncPendingRef(fromEl, toEl, disableWith)){\n            if(DOM.isUploadInput(fromEl)){\n              this.trackBefore(\"updated\", fromEl, toEl)\n              updates.push(fromEl)\n            }\n            return false\n          }\n\n          // nested view handling\n          if(DOM.isPhxChild(toEl)){\n            let prevSession = fromEl.getAttribute(PHX_SESSION)\n            DOM.mergeAttrs(fromEl, toEl, {exclude: [PHX_STATIC]})\n            if(prevSession !== \"\"){ fromEl.setAttribute(PHX_SESSION, prevSession) }\n            fromEl.setAttribute(PHX_ROOT_ID, this.rootID)\n            return false\n          }\n\n          // input handling\n          DOM.copyPrivates(toEl, fromEl)\n          DOM.discardError(targetContainer, toEl, phxFeedbackFor)\n          DOM.syncPropsToAttrs(toEl)\n\n          let isFocusedFormEl = focused && fromEl.isSameNode(focused) && DOM.isFormInput(fromEl)\n          if(isFocusedFormEl && !this.forceFocusedSelectUpdate(fromEl, toEl)){\n            this.trackBefore(\"updated\", fromEl, toEl)\n            DOM.mergeFocusedInput(fromEl, toEl)\n            DOM.syncAttrsToProps(fromEl)\n            updates.push(fromEl)\n            return false\n          } else {\n            if(DOM.isPhxUpdate(toEl, phxUpdate, [\"append\", \"prepend\"])){\n              appendPrependUpdates.push(new DOMPostMorphRestorer(fromEl, toEl, toEl.getAttribute(phxUpdate)))\n            }\n            DOM.syncAttrsToProps(toEl)\n            this.trackBefore(\"updated\", fromEl, toEl)\n            return true\n          }\n        }\n      })\n    })\n\n    if(liveSocket.isDebugEnabled()){ detectDuplicateIds() }\n\n    if(appendPrependUpdates.length > 0){\n      liveSocket.time(\"post-morph append/prepend restoration\", () => {\n        appendPrependUpdates.forEach(update => update.perform())\n      })\n    }\n\n    liveSocket.silenceEvents(() => DOM.restoreFocus(focused, selectionStart, selectionEnd))\n    DOM.dispatchEvent(document, \"phx:update\")\n    added.forEach(el => this.trackAfter(\"added\", el))\n    updates.forEach(el => this.trackAfter(\"updated\", el))\n\n    if(externalFormTriggered){\n      liveSocket.disconnect()\n      externalFormTriggered.submit()\n    }\n    return true\n  }\n\n  forceFocusedSelectUpdate(fromEl, toEl){\n    let isSelect = [\"select\", \"select-one\", \"select-multiple\"].find((t) => t === fromEl.type)\n    return fromEl.multiple === true || (isSelect && fromEl.innerHTML != toEl.innerHTML)\n  }\n\n  isCIDPatch(){ return this.cidPatch }\n\n  skipCIDSibling(el){\n    return el.nodeType === Node.ELEMENT_NODE && el.getAttribute(PHX_SKIP) !== null\n  }\n\n  targetCIDContainer(html){\n    if(!this.isCIDPatch()){ return }\n    let [first, ...rest] = DOM.findComponentNodeList(this.container, this.targetCID)\n    if(rest.length === 0 && DOM.childNodeLength(html) === 1){\n      return first\n    } else {\n      return first && first.parentNode\n    }\n  }\n\n  // builds HTML for morphdom patch\n  // - for full patches of LiveView or a component with a single\n  //   root node, simply returns the HTML\n  // - for patches of a component with multiple root nodes, the\n  //   parent node becomes the target container and non-component\n  //   siblings are marked as skip.\n  buildDiffHTML(container, html, phxUpdate, targetContainer){\n    let isCIDPatch = this.isCIDPatch()\n    let isCIDWithSingleRoot = isCIDPatch && targetContainer.getAttribute(PHX_COMPONENT) === this.targetCID.toString()\n    if(!isCIDPatch || isCIDWithSingleRoot){\n      return html\n    } else {\n      // component patch with multiple CID roots\n      let diffContainer = null\n      let template = document.createElement(\"template\")\n      diffContainer = DOM.cloneNode(targetContainer)\n      let [firstComponent, ...rest] = DOM.findComponentNodeList(diffContainer, this.targetCID)\n      template.innerHTML = html\n      rest.forEach(el => el.remove())\n      Array.from(diffContainer.childNodes).forEach(child => {\n        // we can only skip trackable nodes with an ID\n        if(child.id && child.nodeType === Node.ELEMENT_NODE && child.getAttribute(PHX_COMPONENT) !== this.targetCID.toString()){\n          child.setAttribute(PHX_SKIP, \"\")\n          child.innerHTML = \"\"\n        }\n      })\n      Array.from(template.content.childNodes).forEach(el => diffContainer.insertBefore(el, firstComponent))\n      firstComponent.remove()\n      return diffContainer.outerHTML\n    }\n  }\n}\n","import {\n  COMPONENTS,\n  DYNAMICS,\n  EVENTS,\n  PHX_COMPONENT,\n  PHX_SKIP,\n  REPLY,\n  STATIC,\n  TITLE\n} from \"./constants\"\n\nimport {\n  isObject,\n  logError,\n  isCid,\n} from \"./utils\"\n\nexport default class Rendered {\n  static extract(diff){\n    let {[REPLY]: reply, [EVENTS]: events, [TITLE]: title} = diff\n    delete diff[REPLY]\n    delete diff[EVENTS]\n    delete diff[TITLE]\n    return {diff, title, reply: reply || null, events: events || []}\n  }\n\n  constructor(viewId, rendered){\n    this.viewId = viewId\n    this.rendered = {}\n    this.mergeDiff(rendered)\n  }\n\n  parentViewId(){ return this.viewId }\n\n  toString(onlyCids){\n    return this.recursiveToString(this.rendered, this.rendered[COMPONENTS], onlyCids)\n  }\n\n  recursiveToString(rendered, components = rendered[COMPONENTS], onlyCids){\n    onlyCids = onlyCids ? new Set(onlyCids) : null\n    let output = {buffer: \"\", components: components, onlyCids: onlyCids}\n    this.toOutputBuffer(rendered, output)\n    return output.buffer\n  }\n\n  componentCIDs(diff){ return Object.keys(diff[COMPONENTS] || {}).map(i => parseInt(i)) }\n\n  isComponentOnlyDiff(diff){\n    if(!diff[COMPONENTS]){ return false }\n    return Object.keys(diff).length === 1\n  }\n\n  getComponent(diff, cid){ return diff[COMPONENTS][cid] }\n\n  mergeDiff(diff){\n    let newc = diff[COMPONENTS]\n    let cache = {}\n    delete diff[COMPONENTS]\n    this.rendered = this.mutableMerge(this.rendered, diff)\n    this.rendered[COMPONENTS] = this.rendered[COMPONENTS] || {}\n\n    if(newc){\n      let oldc = this.rendered[COMPONENTS]\n\n      for(let cid in newc){\n        newc[cid] = this.cachedFindComponent(cid, newc[cid], oldc, newc, cache)\n      }\n\n      for(var key in newc){ oldc[key] = newc[key] }\n      diff[COMPONENTS] = newc\n    }\n  }\n\n  cachedFindComponent(cid, cdiff, oldc, newc, cache){\n    if(cache[cid]){\n      return cache[cid]\n    } else {\n      let ndiff, stat, scid = cdiff[STATIC]\n\n      if(isCid(scid)){\n        let tdiff\n\n        if(scid > 0){\n          tdiff = this.cachedFindComponent(scid, newc[scid], oldc, newc, cache)\n        } else {\n          tdiff = oldc[-scid]\n        }\n\n        stat = tdiff[STATIC]\n        ndiff = this.cloneMerge(tdiff, cdiff)\n        ndiff[STATIC] = stat\n      } else {\n        ndiff = cdiff[STATIC] !== undefined ? cdiff : this.cloneMerge(oldc[cid] || {}, cdiff)\n      }\n\n      cache[cid] = ndiff\n      return ndiff\n    }\n  }\n\n  mutableMerge(target, source){\n    if(source[STATIC] !== undefined){\n      return source\n    } else {\n      this.doMutableMerge(target, source)\n      return target\n    }\n  }\n\n  doMutableMerge(target, source){\n    for(let key in source){\n      let val = source[key]\n      let targetVal = target[key]\n      if(isObject(val) && val[STATIC] === undefined && isObject(targetVal)){\n        this.doMutableMerge(targetVal, val)\n      } else {\n        target[key] = val\n      }\n    }\n  }\n\n  cloneMerge(target, source){\n    let merged = {...target, ...source}\n    for(let key in merged){\n      let val = source[key]\n      let targetVal = target[key]\n      if(isObject(val) && val[STATIC] === undefined && isObject(targetVal)){\n        merged[key] = this.cloneMerge(targetVal, val)\n      }\n    }\n    return merged\n  }\n\n  componentToString(cid){ return this.recursiveCIDToString(this.rendered[COMPONENTS], cid) }\n\n  pruneCIDs(cids){\n    cids.forEach(cid => delete this.rendered[COMPONENTS][cid])\n  }\n\n  // private\n\n  get(){ return this.rendered }\n\n  isNewFingerprint(diff = {}){ return !!diff[STATIC] }\n\n  toOutputBuffer(rendered, output){\n    if(rendered[DYNAMICS]){ return this.comprehensionToBuffer(rendered, output) }\n    let {[STATIC]: statics} = rendered\n\n    output.buffer += statics[0]\n    for(let i = 1; i < statics.length; i++){\n      this.dynamicToBuffer(rendered[i - 1], output)\n      output.buffer += statics[i]\n    }\n  }\n\n  comprehensionToBuffer(rendered, output){\n    let {[DYNAMICS]: dynamics, [STATIC]: statics} = rendered\n\n    for(let d = 0; d < dynamics.length; d++){\n      let dynamic = dynamics[d]\n      output.buffer += statics[0]\n      for(let i = 1; i < statics.length; i++){\n        this.dynamicToBuffer(dynamic[i - 1], output)\n        output.buffer += statics[i]\n      }\n    }\n  }\n\n  dynamicToBuffer(rendered, output){\n    if(typeof (rendered) === \"number\"){\n      output.buffer += this.recursiveCIDToString(output.components, rendered, output.onlyCids)\n    } else if(isObject(rendered)){\n      this.toOutputBuffer(rendered, output)\n    } else {\n      output.buffer += rendered\n    }\n  }\n\n  recursiveCIDToString(components, cid, onlyCids){\n    let component = components[cid] || logError(`no component for CID ${cid}`, components)\n    let template = document.createElement(\"template\")\n    template.innerHTML = this.recursiveToString(component, components, onlyCids)\n    let container = template.content\n    let skip = onlyCids && !onlyCids.has(cid)\n\n    let [hasChildNodes, hasChildComponents] =\n      Array.from(container.childNodes).reduce(([hasNodes, hasComponents], child, i) => {\n        if(child.nodeType === Node.ELEMENT_NODE){\n          if(child.getAttribute(PHX_COMPONENT)){\n            return [hasNodes, true]\n          }\n          child.setAttribute(PHX_COMPONENT, cid)\n          if(!child.id){ child.id = `${this.parentViewId()}-${cid}-${i}` }\n          if(skip){\n            child.setAttribute(PHX_SKIP, \"\")\n            child.innerHTML = \"\"\n          }\n          return [true, hasComponents]\n        } else {\n          if(child.nodeValue.trim() !== \"\"){\n            logError(\"only HTML element tags are allowed at the root of components.\\n\\n\" +\n              `got: \"${child.nodeValue.trim()}\"\\n\\n` +\n              \"within:\\n\", template.innerHTML.trim())\n            child.replaceWith(this.createSpan(child.nodeValue, cid))\n            return [true, hasComponents]\n          } else {\n            child.remove()\n            return [hasNodes, hasComponents]\n          }\n        }\n      }, [false, false])\n\n    if(!hasChildNodes && !hasChildComponents){\n      logError(\"expected at least one HTML element tag inside a component, but the component is empty:\\n\",\n        template.innerHTML.trim())\n      return this.createSpan(\"\", cid).outerHTML\n    } else if(!hasChildNodes && hasChildComponents){\n      logError(\"expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.\",\n        template.innerHTML.trim())\n      return template.innerHTML\n    } else {\n      return template.innerHTML\n    }\n  }\n\n  createSpan(text, cid){\n    let span = document.createElement(\"span\")\n    span.innerText = text\n    span.setAttribute(PHX_COMPONENT, cid)\n    return span\n  }\n}\n","let viewHookID = 1\nexport default class ViewHook {\n  static makeID(){ return viewHookID++ }\n  static elementID(el){ return el.phxHookId }\n\n  constructor(view, el, callbacks){\n    this.__view = view\n    this.__liveSocket = view.liveSocket\n    this.__callbacks = callbacks\n    this.__listeners = new Set()\n    this.__isDisconnected = false\n    this.el = el\n    this.el.phxHookId = this.constructor.makeID()\n    for(let key in this.__callbacks){ this[key] = this.__callbacks[key] }\n  }\n\n  __mounted(){ this.mounted && this.mounted() }\n  __updated(){ this.updated && this.updated() }\n  __beforeUpdate(){ this.beforeUpdate && this.beforeUpdate() }\n  __destroyed(){ this.destroyed && this.destroyed() }\n  __reconnected(){\n    if(this.__isDisconnected){\n      this.__isDisconnected = false\n      this.reconnected && this.reconnected()\n    }\n  }\n  __disconnected(){\n    this.__isDisconnected = true\n    this.disconnected && this.disconnected()\n  }\n\n  pushEvent(event, payload = {}, onReply = function (){ }){\n    return this.__view.pushHookEvent(null, event, payload, onReply)\n  }\n\n  pushEventTo(phxTarget, event, payload = {}, onReply = function (){ }){\n    return this.__view.withinTargets(phxTarget, (view, targetCtx) => {\n      return view.pushHookEvent(targetCtx, event, payload, onReply)\n    })\n  }\n\n  handleEvent(event, callback){\n    let callbackRef = (customEvent, bypass) => bypass ? event : callback(customEvent.detail)\n    window.addEventListener(`phx:hook:${event}`, callbackRef)\n    this.__listeners.add(callbackRef)\n    return callbackRef\n  }\n\n  removeHandleEvent(callbackRef){\n    let event = callbackRef(null, true)\n    window.removeEventListener(`phx:hook:${event}`, callbackRef)\n    this.__listeners.delete(callbackRef)\n  }\n\n  upload(name, files){\n    return this.__view.dispatchUploads(name, files)\n  }\n\n  uploadTo(phxTarget, name, files){\n    return this.__view.withinTargets(phxTarget, view => view.dispatchUploads(name, files))\n  }\n\n  __cleanup__(){\n    this.__listeners.forEach(callbackRef => this.removeHandleEvent(callbackRef))\n  }\n}\n","import {\n  BEFORE_UNLOAD_LOADER_TIMEOUT,\n  CHECKABLE_INPUTS,\n  CONSECUTIVE_RELOADS,\n  PHX_AUTO_RECOVER,\n  PHX_COMPONENT,\n  PHX_CONNECTED_CLASS,\n  PHX_DISABLE_WITH,\n  PHX_DISABLE_WITH_RESTORE,\n  PHX_DISABLED,\n  PHX_DISCONNECTED_CLASS,\n  PHX_EVENT_CLASSES,\n  PHX_ERROR_CLASS,\n  PHX_FEEDBACK_FOR,\n  PHX_HAS_SUBMITTED,\n  PHX_HOOK,\n  PHX_PAGE_LOADING,\n  PHX_PARENT_ID,\n  PHX_PROGRESS,\n  PHX_READONLY,\n  PHX_REF,\n  PHX_ROOT_ID,\n  PHX_SESSION,\n  PHX_STATIC,\n  PHX_TRACK_STATIC,\n  PHX_TRACK_UPLOADS,\n  PHX_UPDATE,\n  PHX_UPLOAD_REF,\n  PHX_VIEW_SELECTOR,\n  PUSH_TIMEOUT,\n} from \"./constants\"\n\nimport {\n  clone,\n  closestPhxBinding,\n  isEmpty,\n  isEqualObj,\n  logError,\n  maybe,\n  isCid,\n} from \"./utils\"\n\nimport Browser from \"./browser\"\nimport DOM from \"./dom\"\nimport DOMPatch from \"./dom_patch\"\nimport LiveUploader from \"./live_uploader\"\nimport Rendered from \"./rendered\"\nimport ViewHook from \"./view_hook\"\n\nlet serializeForm = (form, meta = {}) => {\n  let formData = new FormData(form)\n  let toRemove = []\n\n  formData.forEach((val, key, _index) => {\n    if(val instanceof File){ toRemove.push(key) }\n  })\n\n  // Cleanup after building fileData\n  toRemove.forEach(key => formData.delete(key))\n\n  let params = new URLSearchParams()\n  for(let [key, val] of formData.entries()){ params.append(key, val) }\n  for(let metaKey in meta){ params.append(metaKey, meta[metaKey]) }\n\n  return params.toString()\n}\n\nexport default class View {\n  constructor(el, liveSocket, parentView, flash){\n    this.liveSocket = liveSocket\n    this.flash = flash\n    this.parent = parentView\n    this.root = parentView ? parentView.root : this\n    this.el = el\n    this.id = this.el.id\n    this.ref = 0\n    this.childJoins = 0\n    this.loaderTimer = null\n    this.pendingDiffs = []\n    this.pruningCIDs = []\n    this.redirect = false\n    this.href = null\n    this.joinCount = this.parent ? this.parent.joinCount - 1 : 0\n    this.joinPending = true\n    this.destroyed = false\n    this.joinCallback = function (){ }\n    this.stopCallback = function (){ }\n    this.pendingJoinOps = this.parent ? null : []\n    this.viewHooks = {}\n    this.uploaders = {}\n    this.formSubmits = []\n    this.children = this.parent ? null : {}\n    this.root.children[this.id] = {}\n    this.channel = this.liveSocket.channel(`lv:${this.id}`, () => {\n      return {\n        redirect: this.redirect ? this.href : undefined,\n        url: this.redirect ? undefined : this.href || undefined,\n        params: this.connectParams(),\n        session: this.getSession(),\n        static: this.getStatic(),\n        flash: this.flash\n      }\n    })\n    this.showLoader(this.liveSocket.loaderTimeout)\n    this.bindChannel()\n  }\n\n  setHref(href){ this.href = href }\n\n  setRedirect(href){\n    this.redirect = true\n    this.href = href\n  }\n\n  isMain(){ return this.liveSocket.main === this }\n\n  connectParams(){\n    let params = this.liveSocket.params(this.el)\n    let manifest =\n      DOM.all(document, `[${this.binding(PHX_TRACK_STATIC)}]`)\n        .map(node => node.src || node.href).filter(url => typeof (url) === \"string\")\n\n    if(manifest.length > 0){ params[\"_track_static\"] = manifest }\n    params[\"_mounts\"] = this.joinCount\n\n    return params\n  }\n\n  isConnected(){ return this.channel.canPush() }\n\n  getSession(){ return this.el.getAttribute(PHX_SESSION) }\n\n  getStatic(){\n    let val = this.el.getAttribute(PHX_STATIC)\n    return val === \"\" ? null : val\n  }\n\n  destroy(callback = function (){ }){\n    this.destroyAllChildren()\n    this.destroyed = true\n    delete this.root.children[this.id]\n    if(this.parent){ delete this.root.children[this.parent.id][this.id] }\n    clearTimeout(this.loaderTimer)\n    let onFinished = () => {\n      callback()\n      for(let id in this.viewHooks){\n        this.destroyHook(this.viewHooks[id])\n      }\n    }\n\n    DOM.markPhxChildDestroyed(this.el)\n\n    this.log(\"destroyed\", () => [\"the child has been removed from the parent\"])\n    this.channel.leave()\n      .receive(\"ok\", onFinished)\n      .receive(\"error\", onFinished)\n      .receive(\"timeout\", onFinished)\n  }\n\n  setContainerClasses(...classes){\n    this.el.classList.remove(\n      PHX_CONNECTED_CLASS,\n      PHX_DISCONNECTED_CLASS,\n      PHX_ERROR_CLASS\n    )\n    this.el.classList.add(...classes)\n  }\n\n  isLoading(){ return this.el.classList.contains(PHX_DISCONNECTED_CLASS) }\n\n  showLoader(timeout){\n    clearTimeout(this.loaderTimer)\n    if(timeout){\n      this.loaderTimer = setTimeout(() => this.showLoader(), timeout)\n    } else {\n      for(let id in this.viewHooks){ this.viewHooks[id].__disconnected() }\n      this.setContainerClasses(PHX_DISCONNECTED_CLASS)\n    }\n  }\n\n  hideLoader(){\n    clearTimeout(this.loaderTimer)\n    this.setContainerClasses(PHX_CONNECTED_CLASS)\n  }\n\n  triggerReconnected(){\n    for(let id in this.viewHooks){ this.viewHooks[id].__reconnected() }\n  }\n\n  log(kind, msgCallback){\n    this.liveSocket.log(this, kind, msgCallback)\n  }\n\n  withinTargets(phxTarget, callback){\n    if(phxTarget instanceof HTMLElement){\n      return this.liveSocket.owner(phxTarget, view => callback(view, phxTarget))\n    }\n\n    if(/^(0|[1-9]\\d*)$/.test(phxTarget)){\n      let targets = DOM.findComponentNodeList(this.el, phxTarget)\n      if(targets.length === 0){\n        logError(`no component found matching phx-target of ${phxTarget}`)\n      } else {\n        callback(this, targets[0])\n      }\n    } else {\n      let targets = Array.from(document.querySelectorAll(phxTarget))\n      if(targets.length === 0){ logError(`nothing found matching the phx-target selector \"${phxTarget}\"`) }\n      targets.forEach(target => this.liveSocket.owner(target, view => callback(view, target)))\n    }\n  }\n\n  applyDiff(type, rawDiff, callback){\n    this.log(type, () => [\"\", clone(rawDiff)])\n    let {diff, reply, events, title} = Rendered.extract(rawDiff)\n    if(title){ DOM.putTitle(title) }\n\n    callback({diff, reply, events})\n    return reply\n  }\n\n  onJoin(resp){\n    let {rendered, container} = resp\n    if(container){\n      let [tag, attrs] = container\n      this.el = DOM.replaceRootContainer(this.el, tag, attrs)\n    }\n    this.childJoins = 0\n    this.joinPending = true\n    this.flash = null\n\n    Browser.dropLocal(this.liveSocket.localStorage, window.location.pathname, CONSECUTIVE_RELOADS)\n    this.applyDiff(\"mount\", rendered, ({diff, events}) => {\n      this.rendered = new Rendered(this.id, diff)\n      let html = this.renderContainer(null, \"join\")\n      this.dropPendingRefs()\n      let forms = this.formsForRecovery(html)\n      this.joinCount++\n\n      if(forms.length > 0){\n        forms.forEach(([form, newForm, newCid], i) => {\n          this.pushFormRecovery(form, newCid, resp => {\n            if(i === forms.length - 1){\n              this.onJoinComplete(resp, html, events)\n            }\n          })\n        })\n      } else {\n        this.onJoinComplete(resp, html, events)\n      }\n    })\n  }\n\n  dropPendingRefs(){ DOM.all(this.el, `[${PHX_REF}]`, el => el.removeAttribute(PHX_REF)) }\n\n  onJoinComplete({live_patch}, html, events){\n    // In order to provide a better experience, we want to join\n    // all LiveViews first and only then apply their patches.\n    if(this.joinCount > 1 || (this.parent && !this.parent.isJoinPending())){\n      return this.applyJoinPatch(live_patch, html, events)\n    }\n\n    // One downside of this approach is that we need to find phxChildren\n    // in the html fragment, instead of directly on the DOM. The fragment\n    // also does not include PHX_STATIC, so we need to copy it over from\n    // the DOM.\n    let newChildren = DOM.findPhxChildrenInFragment(html, this.id).filter(toEl => {\n      let fromEl = toEl.id && this.el.querySelector(`[id=\"${toEl.id}\"]`)\n      let phxStatic = fromEl && fromEl.getAttribute(PHX_STATIC)\n      if(phxStatic){ toEl.setAttribute(PHX_STATIC, phxStatic) }\n      return this.joinChild(toEl)\n    })\n\n    if(newChildren.length === 0){\n      if(this.parent){\n        this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, events)])\n        this.parent.ackJoin(this)\n      } else {\n        this.onAllChildJoinsComplete()\n        this.applyJoinPatch(live_patch, html, events)\n      }\n    } else {\n      this.root.pendingJoinOps.push([this, () => this.applyJoinPatch(live_patch, html, events)])\n    }\n  }\n\n  attachTrueDocEl(){\n    this.el = DOM.byId(this.id)\n    this.el.setAttribute(PHX_ROOT_ID, this.root.id)\n  }\n\n  dispatchEvents(events){\n    events.forEach(([event, payload]) => {\n      window.dispatchEvent(new CustomEvent(`phx:hook:${event}`, {detail: payload}))\n    })\n  }\n\n  applyJoinPatch(live_patch, html, events){\n    this.attachTrueDocEl()\n    let patch = new DOMPatch(this, this.el, this.id, html, null)\n    patch.markPrunableContentForRemoval()\n    this.performPatch(patch, false)\n    this.joinNewChildren()\n    DOM.all(this.el, `[${this.binding(PHX_HOOK)}], [data-phx-${PHX_HOOK}]`, hookEl => {\n      let hook = this.addHook(hookEl)\n      if(hook){ hook.__mounted() }\n    })\n\n    this.joinPending = false\n    this.dispatchEvents(events)\n    this.applyPendingUpdates()\n\n    if(live_patch){\n      let {kind, to} = live_patch\n      this.liveSocket.historyPatch(to, kind)\n    }\n    this.hideLoader()\n    if(this.joinCount > 1){ this.triggerReconnected() }\n    this.stopCallback()\n  }\n\n  triggerBeforeUpdateHook(fromEl, toEl){\n    this.liveSocket.triggerDOM(\"onBeforeElUpdated\", [fromEl, toEl])\n    let hook = this.getHook(fromEl)\n    let isIgnored = hook && DOM.isIgnored(fromEl, this.binding(PHX_UPDATE))\n    if(hook && !fromEl.isEqualNode(toEl) && !(isIgnored && isEqualObj(fromEl.dataset, toEl.dataset))){\n      hook.__beforeUpdate()\n      return hook\n    }\n  }\n\n  performPatch(patch, pruneCids){\n    let destroyedCIDs = []\n    let phxChildrenAdded = false\n    let updatedHookIds = new Set()\n\n    patch.after(\"added\", el => {\n      this.liveSocket.triggerDOM(\"onNodeAdded\", [el])\n\n      let newHook = this.addHook(el)\n      if(newHook){ newHook.__mounted() }\n    })\n\n    patch.after(\"phxChildAdded\", _el => phxChildrenAdded = true)\n\n    patch.before(\"updated\", (fromEl, toEl) => {\n      let hook = this.triggerBeforeUpdateHook(fromEl, toEl)\n      if(hook){ updatedHookIds.add(fromEl.id) }\n    })\n\n    patch.after(\"updated\", el => {\n      if(updatedHookIds.has(el.id)){ this.getHook(el).__updated() }\n    })\n\n    patch.after(\"discarded\", (el) => {\n      let cid = this.componentID(el)\n      if(isCid(cid) && destroyedCIDs.indexOf(cid) === -1){ destroyedCIDs.push(cid) }\n      let hook = this.getHook(el)\n      hook && this.destroyHook(hook)\n    })\n\n    patch.perform()\n\n    // We should not pruneCids on joins. Otherwise, in case of\n    // rejoins, we may notify cids that no longer belong to the\n    // current LiveView to be removed.\n    if(pruneCids){\n      this.maybePushComponentsDestroyed(destroyedCIDs)\n    }\n\n    return phxChildrenAdded\n  }\n\n  joinNewChildren(){\n    DOM.findPhxChildren(this.el, this.id).forEach(el => this.joinChild(el))\n  }\n\n  getChildById(id){ return this.root.children[this.id][id] }\n\n  getDescendentByEl(el){\n    if(el.id === this.id){\n      return this\n    } else {\n      return this.children[el.getAttribute(PHX_PARENT_ID)][el.id]\n    }\n  }\n\n  destroyDescendent(id){\n    for(let parentId in this.root.children){\n      for(let childId in this.root.children[parentId]){\n        if(childId === id){ return this.root.children[parentId][childId].destroy() }\n      }\n    }\n  }\n\n  joinChild(el){\n    let child = this.getChildById(el.id)\n    if(!child){\n      let view = new View(el, this.liveSocket, this)\n      this.root.children[this.id][view.id] = view\n      view.join()\n      this.childJoins++\n      return true\n    }\n  }\n\n  isJoinPending(){ return this.joinPending }\n\n  ackJoin(_child){\n    this.childJoins--\n\n    if(this.childJoins === 0){\n      if(this.parent){\n        this.parent.ackJoin(this)\n      } else {\n        this.onAllChildJoinsComplete()\n      }\n    }\n  }\n\n  onAllChildJoinsComplete(){\n    this.joinCallback()\n    this.pendingJoinOps.forEach(([view, op]) => {\n      if(!view.isDestroyed()){ op() }\n    })\n    this.pendingJoinOps = []\n  }\n\n  update(diff, events){\n    if(this.isJoinPending() || this.liveSocket.hasPendingLink()){\n      return this.pendingDiffs.push({diff, events})\n    }\n\n    this.rendered.mergeDiff(diff)\n    let phxChildrenAdded = false\n\n    // When the diff only contains component diffs, then walk components\n    // and patch only the parent component containers found in the diff.\n    // Otherwise, patch entire LV container.\n    if(this.rendered.isComponentOnlyDiff(diff)){\n      this.liveSocket.time(\"component patch complete\", () => {\n        let parentCids = DOM.findParentCIDs(this.el, this.rendered.componentCIDs(diff))\n        parentCids.forEach(parentCID => {\n          if(this.componentPatch(this.rendered.getComponent(diff, parentCID), parentCID)){ phxChildrenAdded = true }\n        })\n      })\n    } else if(!isEmpty(diff)){\n      this.liveSocket.time(\"full patch complete\", () => {\n        let html = this.renderContainer(diff, \"update\")\n        let patch = new DOMPatch(this, this.el, this.id, html, null)\n        phxChildrenAdded = this.performPatch(patch, true)\n      })\n    }\n\n    this.dispatchEvents(events)\n    if(phxChildrenAdded){ this.joinNewChildren() }\n  }\n\n  renderContainer(diff, kind){\n    return this.liveSocket.time(`toString diff (${kind})`, () => {\n      let tag = this.el.tagName\n      // Don't skip any component in the diff nor any marked as pruned\n      // (as they may have been added back)\n      let cids = diff ? this.rendered.componentCIDs(diff).concat(this.pruningCIDs) : null\n      let html = this.rendered.toString(cids)\n      return `<${tag}>${html}</${tag}>`\n    })\n  }\n\n  componentPatch(diff, cid){\n    if(isEmpty(diff)) return false\n    let html = this.rendered.componentToString(cid)\n    let patch = new DOMPatch(this, this.el, this.id, html, cid)\n    let childrenAdded = this.performPatch(patch, true)\n    return childrenAdded\n  }\n\n  getHook(el){ return this.viewHooks[ViewHook.elementID(el)] }\n\n  addHook(el){\n    if(ViewHook.elementID(el) || !el.getAttribute){ return }\n    let hookName = el.getAttribute(`data-phx-${PHX_HOOK}`) || el.getAttribute(this.binding(PHX_HOOK))\n    if(hookName && !this.ownsElement(el)){ return }\n    let callbacks = this.liveSocket.getHookCallbacks(hookName)\n\n    if(callbacks){\n      if(!el.id){ logError(`no DOM ID for hook \"${hookName}\". Hooks require a unique ID on each element.`, el) }\n      let hook = new ViewHook(this, el, callbacks)\n      this.viewHooks[ViewHook.elementID(hook.el)] = hook\n      return hook\n    } else if(hookName !== null){\n      logError(`unknown hook found for \"${hookName}\"`, el)\n    }\n  }\n\n  destroyHook(hook){\n    hook.__destroyed()\n    hook.__cleanup__()\n    delete this.viewHooks[ViewHook.elementID(hook.el)]\n  }\n\n  applyPendingUpdates(){\n    this.pendingDiffs.forEach(({diff, events}) => this.update(diff, events))\n    this.pendingDiffs = []\n  }\n\n  onChannel(event, cb){\n    this.liveSocket.onChannel(this.channel, event, resp => {\n      if(this.isJoinPending()){\n        this.root.pendingJoinOps.push([this, () => cb(resp)])\n      } else {\n        cb(resp)\n      }\n    })\n  }\n\n  bindChannel(){\n    // The diff event should be handled by the regular update operations.\n    // All other operations are queued to be applied only after join.\n    this.liveSocket.onChannel(this.channel, \"diff\", (rawDiff) => {\n      this.applyDiff(\"update\", rawDiff, ({diff, events}) => this.update(diff, events))\n    })\n    this.onChannel(\"redirect\", ({to, flash}) => this.onRedirect({to, flash}))\n    this.onChannel(\"live_patch\", (redir) => this.onLivePatch(redir))\n    this.onChannel(\"live_redirect\", (redir) => this.onLiveRedirect(redir))\n    this.channel.onError(reason => this.onError(reason))\n    this.channel.onClose(reason => this.onClose(reason))\n  }\n\n  destroyAllChildren(){\n    for(let id in this.root.children[this.id]){\n      this.getChildById(id).destroy()\n    }\n  }\n\n  onLiveRedirect(redir){\n    let {to, kind, flash} = redir\n    let url = this.expandURL(to)\n    this.liveSocket.historyRedirect(url, kind, flash)\n  }\n\n  onLivePatch(redir){\n    let {to, kind} = redir\n    this.href = this.expandURL(to)\n    this.liveSocket.historyPatch(to, kind)\n  }\n\n  expandURL(to){\n    return to.startsWith(\"/\") ? `${window.location.protocol}//${window.location.host}${to}` : to\n  }\n\n  onRedirect({to, flash}){ this.liveSocket.redirect(to, flash) }\n\n  isDestroyed(){ return this.destroyed }\n\n  join(callback){\n    if(!this.parent){\n      this.stopCallback = this.liveSocket.withPageLoading({to: this.href, kind: \"initial\"})\n    }\n    this.joinCallback = () => callback && callback(this.joinCount)\n    this.liveSocket.wrapPush(this, {timeout: false}, () => {\n      return this.channel.join()\n        .receive(\"ok\", data => !this.isDestroyed() && this.onJoin(data))\n        .receive(\"error\", resp => !this.isDestroyed() && this.onJoinError(resp))\n        .receive(\"timeout\", () => !this.isDestroyed() && this.onJoinError({reason: \"timeout\"}))\n    })\n  }\n\n  onJoinError(resp){\n    if(resp.reason === \"unauthorized\" || resp.reason === \"stale\"){\n      this.log(\"error\", () => [\"unauthorized live_redirect. Falling back to page request\", resp])\n      return this.onRedirect({to: this.href})\n    }\n    if(resp.redirect || resp.live_redirect){\n      this.joinPending = false\n      this.channel.leave()\n    }\n    if(resp.redirect){ return this.onRedirect(resp.redirect) }\n    if(resp.live_redirect){ return this.onLiveRedirect(resp.live_redirect) }\n    this.log(\"error\", () => [\"unable to join\", resp])\n    return this.liveSocket.reloadWithJitter(this)\n  }\n\n  onClose(reason){\n    if(this.isDestroyed()){ return }\n    if((this.isJoinPending() && document.visibilityState !== \"hidden\") ||\n      (this.liveSocket.hasPendingLink() && reason !== \"leave\")){\n\n      return this.liveSocket.reloadWithJitter(this)\n    }\n    this.destroyAllChildren()\n    this.liveSocket.dropActiveElement(this)\n    // document.activeElement can be null in Internet Explorer 11\n    if(document.activeElement){ document.activeElement.blur() }\n    if(this.liveSocket.isUnloaded()){\n      this.showLoader(BEFORE_UNLOAD_LOADER_TIMEOUT)\n    }\n  }\n\n  onError(reason){\n    this.onClose(reason)\n    this.log(\"error\", () => [\"view crashed\", reason])\n    if(!this.liveSocket.isUnloaded()){ this.displayError() }\n  }\n\n  displayError(){\n    if(this.isMain()){ DOM.dispatchEvent(window, \"phx:page-loading-start\", {to: this.href, kind: \"error\"}) }\n    this.showLoader()\n    this.setContainerClasses(PHX_DISCONNECTED_CLASS, PHX_ERROR_CLASS)\n  }\n\n  pushWithReply(refGenerator, event, payload, onReply = function (){ }){\n    if(!this.isConnected()){ return }\n\n    let [ref, [el]] = refGenerator ? refGenerator() : [null, []]\n    let onLoadingDone = function (){ }\n    if(el && (el.getAttribute(this.binding(PHX_PAGE_LOADING)) !== null)){\n      onLoadingDone = this.liveSocket.withPageLoading({kind: \"element\", target: el})\n    }\n\n    if(typeof (payload.cid) !== \"number\"){ delete payload.cid }\n    return (\n      this.liveSocket.wrapPush(this, {timeout: true}, () => {\n        return this.channel.push(event, payload, PUSH_TIMEOUT).receive(\"ok\", resp => {\n          let hookReply = null\n          if(ref !== null){ this.undoRefs(ref) }\n          if(resp.diff){\n            hookReply = this.applyDiff(\"update\", resp.diff, ({diff, events}) => {\n              this.update(diff, events)\n            })\n          }\n          if(resp.redirect){ this.onRedirect(resp.redirect) }\n          if(resp.live_patch){ this.onLivePatch(resp.live_patch) }\n          if(resp.live_redirect){ this.onLiveRedirect(resp.live_redirect) }\n          onLoadingDone()\n          onReply(resp, hookReply)\n        })\n      })\n    )\n  }\n\n  undoRefs(ref){\n    DOM.all(this.el, `[${PHX_REF}=\"${ref}\"]`, el => {\n      let disabledVal = el.getAttribute(PHX_DISABLED)\n      // remove refs\n      el.removeAttribute(PHX_REF)\n      // restore inputs\n      if(el.getAttribute(PHX_READONLY) !== null){\n        el.readOnly = false\n        el.removeAttribute(PHX_READONLY)\n      }\n      if(disabledVal !== null){\n        el.disabled = disabledVal === \"true\" ? true : false\n        el.removeAttribute(PHX_DISABLED)\n      }\n      // remove classes\n      PHX_EVENT_CLASSES.forEach(className => DOM.removeClass(el, className))\n      // restore disables\n      let disableRestore = el.getAttribute(PHX_DISABLE_WITH_RESTORE)\n      if(disableRestore !== null){\n        el.innerText = disableRestore\n        el.removeAttribute(PHX_DISABLE_WITH_RESTORE)\n      }\n      let toEl = DOM.private(el, PHX_REF)\n      if(toEl){\n        let hook = this.triggerBeforeUpdateHook(el, toEl)\n        DOMPatch.patchEl(el, toEl, this.liveSocket.getActiveElement())\n        if(hook){ hook.__updated() }\n        DOM.deletePrivate(el, PHX_REF)\n      }\n    })\n  }\n\n  putRef(elements, event){\n    let newRef = this.ref++\n    let disableWith = this.binding(PHX_DISABLE_WITH)\n\n    elements.forEach(el => {\n      el.classList.add(`phx-${event}-loading`)\n      el.setAttribute(PHX_REF, newRef)\n      let disableText = el.getAttribute(disableWith)\n      if(disableText !== null){\n        if(!el.getAttribute(PHX_DISABLE_WITH_RESTORE)){\n          el.setAttribute(PHX_DISABLE_WITH_RESTORE, el.innerText)\n        }\n        el.innerText = disableText\n      }\n    })\n    return [newRef, elements]\n  }\n\n  componentID(el){\n    let cid = el.getAttribute && el.getAttribute(PHX_COMPONENT)\n    return cid ? parseInt(cid) : null\n  }\n\n  targetComponentID(target, targetCtx){\n    if(target.getAttribute(this.binding(\"target\"))){\n      return this.closestComponentID(targetCtx)\n    } else {\n      return null\n    }\n  }\n\n  closestComponentID(targetCtx){\n    if(targetCtx){\n      return maybe(targetCtx.closest(`[${PHX_COMPONENT}]`), el => this.ownsElement(el) && this.componentID(el))\n    } else {\n      return null\n    }\n  }\n\n  pushHookEvent(targetCtx, event, payload, onReply){\n    if(!this.isConnected()){\n      this.log(\"hook\", () => [\"unable to push hook event. LiveView not connected\", event, payload])\n      return false\n    }\n    let [ref, els] = this.putRef([], \"hook\")\n    this.pushWithReply(() => [ref, els], \"event\", {\n      type: \"hook\",\n      event: event,\n      value: payload,\n      cid: this.closestComponentID(targetCtx)\n    }, (resp, reply) => onReply(reply, ref))\n\n    return ref\n  }\n\n  extractMeta(el, meta){\n    let prefix = this.binding(\"value-\")\n    for(let i = 0; i < el.attributes.length; i++){\n      let name = el.attributes[i].name\n      if(name.startsWith(prefix)){ meta[name.replace(prefix, \"\")] = el.getAttribute(name) }\n    }\n    if(el.value !== undefined){\n      meta.value = el.value\n\n      if(el.tagName === \"INPUT\" && CHECKABLE_INPUTS.indexOf(el.type) >= 0 && !el.checked){\n        delete meta.value\n      }\n    }\n    return meta\n  }\n\n  pushEvent(type, el, targetCtx, phxEvent, meta){\n    this.pushWithReply(() => this.putRef([el], type), \"event\", {\n      type: type,\n      event: phxEvent,\n      value: this.extractMeta(el, meta),\n      cid: this.targetComponentID(el, targetCtx)\n    })\n  }\n\n  pushKey(keyElement, targetCtx, kind, phxEvent, meta){\n    this.pushWithReply(() => this.putRef([keyElement], kind), \"event\", {\n      type: kind,\n      event: phxEvent,\n      value: this.extractMeta(keyElement, meta),\n      cid: this.targetComponentID(keyElement, targetCtx)\n    })\n  }\n\n  pushFileProgress(fileEl, entryRef, progress, onReply = function (){ }){\n    this.liveSocket.withinOwners(fileEl.form, (view, targetCtx) => {\n      view.pushWithReply(null, \"progress\", {\n        event: fileEl.getAttribute(view.binding(PHX_PROGRESS)),\n        ref: fileEl.getAttribute(PHX_UPLOAD_REF),\n        entry_ref: entryRef,\n        progress: progress,\n        cid: view.targetComponentID(fileEl.form, targetCtx)\n      }, onReply)\n    })\n  }\n\n  pushInput(inputEl, targetCtx, forceCid, phxEvent, eventTarget, callback){\n    let uploads\n    let cid = isCid(forceCid) ? forceCid : this.targetComponentID(inputEl.form, targetCtx)\n    let refGenerator = () => this.putRef([inputEl, inputEl.form], \"change\")\n    let formData = serializeForm(inputEl.form, {_target: eventTarget.name})\n    if(inputEl.files && inputEl.files.length > 0){\n      LiveUploader.trackFiles(inputEl, Array.from(inputEl.files))\n    }\n    uploads = LiveUploader.serializeUploads(inputEl)\n    let event = {\n      type: \"form\",\n      event: phxEvent,\n      value: formData,\n      uploads: uploads,\n      cid: cid\n    }\n    this.pushWithReply(refGenerator, \"event\", event, resp => {\n      DOM.showError(inputEl, this.liveSocket.binding(PHX_FEEDBACK_FOR))\n      if(DOM.isUploadInput(inputEl) && inputEl.getAttribute(\"data-phx-auto-upload\") !== null){\n        if(LiveUploader.filesAwaitingPreflight(inputEl).length > 0){\n          let [ref, _els] = refGenerator()\n          this.uploadFiles(inputEl.form, targetCtx, ref, cid, (_uploads) => {\n            callback && callback(resp)\n            this.triggerAwaitingSubmit(inputEl.form)\n          })\n        }\n      } else {\n        callback && callback(resp)\n      }\n    })\n  }\n\n  triggerAwaitingSubmit(formEl){\n    let awaitingSubmit = this.getScheduledSubmit(formEl)\n    if(awaitingSubmit){\n      let [_el, _ref, callback] = awaitingSubmit\n      this.cancelSubmit(formEl)\n      callback()\n    }\n  }\n\n  getScheduledSubmit(formEl){\n    return this.formSubmits.find(([el, _callback]) => el.isSameNode(formEl))\n  }\n\n  scheduleSubmit(formEl, ref, callback){\n    if(this.getScheduledSubmit(formEl)){ return true }\n    this.formSubmits.push([formEl, ref, callback])\n  }\n\n  cancelSubmit(formEl){\n    this.formSubmits = this.formSubmits.filter(([el, ref, _callback]) => {\n      if(el.isSameNode(formEl)){\n        this.undoRefs(ref)\n        return false\n      } else {\n        return true\n      }\n    })\n  }\n\n  pushFormSubmit(formEl, targetCtx, phxEvent, onReply){\n    let filterIgnored = el => {\n      let userIgnored = closestPhxBinding(el, `${this.binding(PHX_UPDATE)}=ignore`, el.form)\n      return !(userIgnored || closestPhxBinding(el, \"data-phx-update=ignore\", el.form))\n    }\n    let filterDisables = el => {\n      return el.hasAttribute(this.binding(PHX_DISABLE_WITH))\n    }\n    let filterButton = el => el.tagName == \"BUTTON\"\n\n    let filterInput = el => [\"INPUT\", \"TEXTAREA\", \"SELECT\"].includes(el.tagName)\n\n    let refGenerator = () => {\n      let formElements = Array.from(formEl.elements)\n      let disables = formElements.filter(filterDisables)\n      let buttons = formElements.filter(filterButton).filter(filterIgnored)\n      let inputs = formElements.filter(filterInput).filter(filterIgnored)\n\n      buttons.forEach(button => {\n        button.setAttribute(PHX_DISABLED, button.disabled)\n        button.disabled = true\n      })\n      inputs.forEach(input => {\n        input.setAttribute(PHX_READONLY, input.readOnly)\n        input.readOnly = true\n        if(input.files){\n          input.setAttribute(PHX_DISABLED, input.disabled)\n          input.disabled = true\n        }\n      })\n      formEl.setAttribute(this.binding(PHX_PAGE_LOADING), \"\")\n      return this.putRef([formEl].concat(disables).concat(buttons).concat(inputs), \"submit\")\n    }\n\n    let cid = this.targetComponentID(formEl, targetCtx)\n    if(LiveUploader.hasUploadsInProgress(formEl)){\n      let [ref, _els] = refGenerator()\n      return this.scheduleSubmit(formEl, ref, () => this.pushFormSubmit(formEl, targetCtx, phxEvent, onReply))\n    } else if(LiveUploader.inputsAwaitingPreflight(formEl).length > 0){\n      let [ref, els] = refGenerator()\n      let proxyRefGen = () => [ref, els]\n      this.uploadFiles(formEl, targetCtx, ref, cid, (_uploads) => {\n        let formData = serializeForm(formEl, {})\n        this.pushWithReply(proxyRefGen, \"event\", {\n          type: \"form\",\n          event: phxEvent,\n          value: formData,\n          cid: cid\n        }, onReply)\n      })\n    } else {\n      let formData = serializeForm(formEl)\n      this.pushWithReply(refGenerator, \"event\", {\n        type: \"form\",\n        event: phxEvent,\n        value: formData,\n        cid: cid\n      }, onReply)\n    }\n  }\n\n  uploadFiles(formEl, targetCtx, ref, cid, onComplete){\n    let joinCountAtUpload = this.joinCount\n    let inputEls = LiveUploader.activeFileInputs(formEl)\n    let numFileInputsInProgress = inputEls.length\n\n    // get each file input\n    inputEls.forEach(inputEl => {\n      let uploader = new LiveUploader(inputEl, this, () => {\n        numFileInputsInProgress--\n        if(numFileInputsInProgress === 0){ onComplete() }\n      });\n\n      this.uploaders[inputEl] = uploader\n      let entries = uploader.entries().map(entry => entry.toPreflightPayload())\n\n      let payload = {\n        ref: inputEl.getAttribute(PHX_UPLOAD_REF),\n        entries: entries,\n        cid: this.targetComponentID(inputEl.form, targetCtx)\n      }\n\n      this.log(\"upload\", () => [\"sending preflight request\", payload])\n\n      this.pushWithReply(null, \"allow_upload\", payload, resp => {\n        this.log(\"upload\", () => [\"got preflight response\", resp])\n        if(resp.error){\n          this.undoRefs(ref)\n          let [entry_ref, reason] = resp.error\n          this.log(\"upload\", () => [`error for entry ${entry_ref}`, reason])\n        } else {\n          let onError = (callback) => {\n            this.channel.onError(() => {\n              if(this.joinCount === joinCountAtUpload){ callback() }\n            })\n          }\n          uploader.initAdapterUpload(resp, onError, this.liveSocket)\n        }\n      })\n    })\n  }\n\n  dispatchUploads(name, filesOrBlobs){\n    let inputs = DOM.findUploadInputs(this.el).filter(el => el.name === name)\n    if(inputs.length === 0){ logError(`no live file inputs found matching the name \"${name}\"`) }\n    else if(inputs.length > 1){ logError(`duplicate live file inputs found matching the name \"${name}\"`) }\n    else { DOM.dispatchEvent(inputs[0], PHX_TRACK_UPLOADS, {files: filesOrBlobs}) }\n  }\n\n  pushFormRecovery(form, newCid, callback){\n    this.liveSocket.withinOwners(form, (view, targetCtx) => {\n      let input = form.elements[0]\n      let phxEvent = form.getAttribute(this.binding(PHX_AUTO_RECOVER)) || form.getAttribute(this.binding(\"change\"))\n      view.pushInput(input, targetCtx, newCid, phxEvent, input, callback)\n    })\n  }\n\n  pushLinkPatch(href, targetEl, callback){\n    let linkRef = this.liveSocket.setPendingLink(href)\n    let refGen = targetEl ? () => this.putRef([targetEl], \"click\") : null\n\n    this.pushWithReply(refGen, \"live_patch\", {url: href}, resp => {\n      if(resp.link_redirect){\n        this.liveSocket.replaceMain(href, null, callback, linkRef)\n      } else {\n        if(this.liveSocket.commitPendingLink(linkRef)){\n          this.href = href\n        }\n        this.applyPendingUpdates()\n        callback && callback(linkRef)\n      }\n    }).receive(\"timeout\", () => this.liveSocket.redirect(window.location.href))\n  }\n\n  formsForRecovery(html){\n    if(this.joinCount === 0){ return [] }\n\n    let phxChange = this.binding(\"change\")\n    let template = document.createElement(\"template\")\n    template.innerHTML = html\n\n    return (\n      DOM.all(this.el, `form[${phxChange}]`)\n        .filter(form => form.id && this.ownsElement(form))\n        .filter(form => form.elements.length > 0)\n        .filter(form => form.getAttribute(this.binding(PHX_AUTO_RECOVER)) !== \"ignore\")\n        .map(form => {\n          let newForm = template.content.querySelector(`form[id=\"${form.id}\"][${phxChange}=\"${form.getAttribute(phxChange)}\"]`)\n          if(newForm){\n            return [form, newForm, this.componentID(newForm)]\n          } else {\n            return [form, null, null]\n          }\n        })\n        .filter(([form, newForm, newCid]) => newForm)\n    )\n  }\n\n  maybePushComponentsDestroyed(destroyedCIDs){\n    let willDestroyCIDs = destroyedCIDs.filter(cid => {\n      return DOM.findComponentNodeList(this.el, cid).length === 0\n    })\n    if(willDestroyCIDs.length > 0){\n      this.pruningCIDs.push(...willDestroyCIDs)\n\n      this.pushWithReply(null, \"cids_will_destroy\", {cids: willDestroyCIDs}, () => {\n        // The cids are either back on the page or they will be fully removed,\n        // so we can remove them from the pruningCIDs.\n        this.pruningCIDs = this.pruningCIDs.filter(cid => willDestroyCIDs.indexOf(cid) !== -1)\n\n        // See if any of the cids we wanted to destroy were added back,\n        // if they were added back, we don't actually destroy them.\n        let completelyDestroyCIDs = willDestroyCIDs.filter(cid => {\n          return DOM.findComponentNodeList(this.el, cid).length === 0\n        })\n\n        if(completelyDestroyCIDs.length > 0){\n          this.pushWithReply(null, \"cids_destroyed\", {cids: completelyDestroyCIDs}, (resp) => {\n            this.rendered.pruneCIDs(resp.cids)\n          })\n        }\n      })\n    }\n  }\n\n  ownsElement(el){\n    return el.getAttribute(PHX_PARENT_ID) === this.id ||\n      maybe(el.closest(PHX_VIEW_SELECTOR), node => node.id) === this.id\n  }\n\n  submitForm(form, targetCtx, phxEvent){\n    DOM.putPrivate(form, PHX_HAS_SUBMITTED, true)\n    this.liveSocket.blurActiveElement(this)\n    this.pushFormSubmit(form, targetCtx, phxEvent, () => {\n      this.liveSocket.restorePreviouslyActiveFocus()\n    })\n  }\n\n  binding(kind){ return this.liveSocket.binding(kind) }\n}\n","/** Initializes the LiveSocket\n *\n *\n * @param {string} endPoint - The string WebSocket endpoint, ie, `\"wss://example.com/live\"`,\n *                                               `\"/live\"` (inherited host & protocol)\n * @param {Phoenix.Socket} socket - the required Phoenix Socket class imported from \"phoenix\". For example:\n *\n *     import {Socket} from \"phoenix\"\n *     import {LiveSocket} from \"phoenix_live_view\"\n *     let liveSocket = new LiveSocket(\"/live\", Socket, {...})\n *\n * @param {Object} [opts] - Optional configuration. Outside of keys listed below, all\n * configuration is passed directly to the Phoenix Socket constructor.\n * @param {Object} [opts.defaults] - The optional defaults to use for various bindings,\n * such as `phx-debounce`. Supports the following keys:\n *\n *   - debounce - the millisecond phx-debounce time. Defaults 300\n *   - throttle - the millisecond phx-throttle time. Defaults 300\n *\n * @param {Function} [opts.params] - The optional function for passing connect params.\n * The function receives the element associated with a given LiveView. For example:\n *\n *     (el) => {view: el.getAttribute(\"data-my-view-name\", token: window.myToken}\n *\n * @param {string} [opts.bindingPrefix] - The optional prefix to use for all phx DOM annotations.\n * Defaults to \"phx-\".\n * @param {Object} [opts.hooks] - The optional object for referencing LiveView hook callbacks.\n * @param {Object} [opts.uploaders] - The optional object for referencing LiveView uploader callbacks.\n * @param {integer} [opts.loaderTimeout] - The optional delay in milliseconds to wait before apply\n * loading states.\n * @param {Function} [opts.viewLogger] - The optional function to log debug information. For example:\n *\n *     (view, kind, msg, obj) => console.log(`${view.id} ${kind}: ${msg} - `, obj)\n *\n * @param {Object} [opts.metadata] - The optional object mapping event names to functions for\n * populating event metadata. For example:\n *\n *     metadata: {\n *       click: (e, el) => {\n *         return {\n *           ctrlKey: e.ctrlKey,\n *           metaKey: e.metaKey,\n *           detail: e.detail || 1,\n *         }\n *       },\n *       keydown: (e, el) => {\n *         return {\n *           key: e.key,\n *           ctrlKey: e.ctrlKey,\n *           metaKey: e.metaKey,\n *           shiftKey: e.shiftKey\n *         }\n *       }\n *     }\n * @param {Object} [opts.sessionStorage] - An optional Storage compatible object\n * Useful when LiveView won't have access to `sessionStorage`.  For example, This could\n * happen if a site loads a cross-domain LiveView in an iframe.  Example usage:\n *\n *     class InMemoryStorage {\n *       constructor() { this.storage = {} }\n *       getItem(keyName) { return this.storage[keyName] }\n *       removeItem(keyName) { delete this.storage[keyName] }\n *       setItem(keyName, keyValue) { this.storage[keyName] = keyValue }\n *     }\n *\n * @param {Object} [opts.localStorage] - An optional Storage compatible object\n * Useful for when LiveView won't have access to `localStorage`.\n * See `opts.sessionStorage` for examples.\n*/\n\nimport {\n  BINDING_PREFIX,\n  CONSECUTIVE_RELOADS,\n  DEFAULTS,\n  FAILSAFE_JITTER,\n  LOADER_TIMEOUT,\n  MAX_RELOADS,\n  PHX_DEBOUNCE,\n  PHX_DROP_TARGET,\n  PHX_HAS_FOCUSED,\n  PHX_KEY,\n  PHX_LINK_STATE,\n  PHX_LIVE_LINK,\n  PHX_LV_DEBUG,\n  PHX_LV_LATENCY_SIM,\n  PHX_LV_PROFILE,\n  PHX_MAIN,\n  PHX_PARENT_ID,\n  PHX_VIEW_SELECTOR,\n  PHX_ROOT_ID,\n  PHX_THROTTLE,\n  PHX_TRACK_UPLOADS,\n  RELOAD_JITTER\n\n} from \"./constants\"\n\nimport {\n  clone,\n  closestPhxBinding,\n  closure,\n  debug,\n  maybe\n} from \"./utils\"\n\nimport Browser from \"./browser\"\nimport DOM from \"./dom\"\nimport Hooks from \"./hooks\"\nimport LiveUploader from \"./live_uploader\"\nimport View from \"./view\"\nimport {PHX_SESSION} from \"./constants\"\n\nexport default class LiveSocket {\n  constructor(url, phxSocket, opts = {}){\n    this.unloaded = false\n    if(!phxSocket || phxSocket.constructor.name === \"Object\"){\n      throw new Error(`\n      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:\n\n          import {Socket} from \"phoenix\"\n          import LiveSocket from \"phoenix_live_view\"\n          let liveSocket = new LiveSocket(\"/live\", Socket, {...})\n      `)\n    }\n    this.socket = new phxSocket(url, opts)\n    this.bindingPrefix = opts.bindingPrefix || BINDING_PREFIX\n    this.opts = opts\n    this.params = closure(opts.params || {})\n    this.viewLogger = opts.viewLogger\n    this.metadataCallbacks = opts.metadata || {}\n    this.defaults = Object.assign(clone(DEFAULTS), opts.defaults || {})\n    this.activeElement = null\n    this.prevActive = null\n    this.silenced = false\n    this.main = null\n    this.linkRef = 1\n    this.roots = {}\n    this.href = window.location.href\n    this.pendingLink = null\n    this.currentLocation = clone(window.location)\n    this.hooks = opts.hooks || {}\n    this.uploaders = opts.uploaders || {}\n    this.loaderTimeout = opts.loaderTimeout || LOADER_TIMEOUT\n    this.localStorage = opts.localStorage || window.localStorage\n    this.sessionStorage = opts.sessionStorage || window.sessionStorage\n    this.boundTopLevelEvents = false\n    this.domCallbacks = Object.assign({onNodeAdded: closure(), onBeforeElUpdated: closure()}, opts.dom || {})\n    window.addEventListener(\"pagehide\", _e => {\n      this.unloaded = true\n    })\n    this.socket.onOpen(() => {\n      if(this.isUnloaded()){\n        // reload page if being restored from back/forward cache and browser does not emit \"pageshow\"\n        window.location.reload()\n      }\n    })\n  }\n\n  // public\n\n  isProfileEnabled(){ return this.sessionStorage.getItem(PHX_LV_PROFILE) === \"true\" }\n\n  isDebugEnabled(){ return this.sessionStorage.getItem(PHX_LV_DEBUG) === \"true\" }\n\n  enableDebug(){ this.sessionStorage.setItem(PHX_LV_DEBUG, \"true\") }\n\n  enableProfiling(){ this.sessionStorage.setItem(PHX_LV_PROFILE, \"true\") }\n\n  disableDebug(){ this.sessionStorage.removeItem(PHX_LV_DEBUG) }\n\n  disableProfiling(){ this.sessionStorage.removeItem(PHX_LV_PROFILE) }\n\n  enableLatencySim(upperBoundMs){\n    this.enableDebug()\n    console.log(\"latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable\")\n    this.sessionStorage.setItem(PHX_LV_LATENCY_SIM, upperBoundMs)\n  }\n\n  disableLatencySim(){ this.sessionStorage.removeItem(PHX_LV_LATENCY_SIM) }\n\n  getLatencySim(){\n    let str = this.sessionStorage.getItem(PHX_LV_LATENCY_SIM)\n    return str ? parseInt(str) : null\n  }\n\n  getSocket(){ return this.socket }\n\n  connect(){\n    let doConnect = () => {\n      if(this.joinRootViews()){\n        this.bindTopLevelEvents()\n        this.socket.connect()\n      }\n    }\n    if([\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState) >= 0){\n      doConnect()\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", () => doConnect())\n    }\n  }\n\n  disconnect(callback){ this.socket.disconnect(callback) }\n\n  // private\n\n  triggerDOM(kind, args){ this.domCallbacks[kind](...args) }\n\n  time(name, func){\n    if(!this.isProfileEnabled() || !console.time){ return func() }\n    console.time(name)\n    let result = func()\n    console.timeEnd(name)\n    return result\n  }\n\n  log(view, kind, msgCallback){\n    if(this.viewLogger){\n      let [msg, obj] = msgCallback()\n      this.viewLogger(view, kind, msg, obj)\n    } else if(this.isDebugEnabled()){\n      let [msg, obj] = msgCallback()\n      debug(view, kind, msg, obj)\n    }\n  }\n\n  onChannel(channel, event, cb){\n    channel.on(event, data => {\n      let latency = this.getLatencySim()\n      if(!latency){\n        cb(data)\n      } else {\n        console.log(`simulating ${latency}ms of latency from server to client`)\n        setTimeout(() => cb(data), latency)\n      }\n    })\n  }\n\n  wrapPush(view, opts, push){\n    let latency = this.getLatencySim()\n    let oldJoinCount = view.joinCount\n    if(!latency){\n      if(opts.timeout){\n        return push().receive(\"timeout\", () => {\n          if(view.joinCount === oldJoinCount && !view.isDestroyed()){\n            this.reloadWithJitter(view, () => {\n              this.log(view, \"timeout\", () => [\"received timeout while communicating with server. Falling back to hard refresh for recovery\"])\n            })\n          }\n        })\n      } else {\n        return push()\n      }\n    }\n\n    console.log(`simulating ${latency}ms of latency from client to server`)\n    let fakePush = {\n      receives: [],\n      receive(kind, cb){ this.receives.push([kind, cb]) }\n    }\n    setTimeout(() => {\n      if(view.isDestroyed()){ return }\n      fakePush.receives.reduce((acc, [kind, cb]) => acc.receive(kind, cb), push())\n    }, latency)\n    return fakePush\n  }\n\n  reloadWithJitter(view, log){\n    view.destroy()\n    this.disconnect()\n    let [minMs, maxMs] = RELOAD_JITTER\n    let afterMs = Math.floor(Math.random() * (maxMs - minMs + 1)) + minMs\n    let tries = Browser.updateLocal(this.localStorage, window.location.pathname, CONSECUTIVE_RELOADS, 0, count => count + 1)\n    log ? log() : this.log(view, \"join\", () => [`encountered ${tries} consecutive reloads`])\n    if(tries > MAX_RELOADS){\n      this.log(view, \"join\", () => [`exceeded ${MAX_RELOADS} consecutive reloads. Entering failsafe mode`])\n      afterMs = FAILSAFE_JITTER\n    }\n    setTimeout(() => {\n      if(this.hasPendingLink()){\n        window.location = this.pendingLink\n      } else {\n        window.location.reload()\n      }\n    }, afterMs)\n  }\n\n  getHookCallbacks(name){\n    return name && name.startsWith(\"Phoenix.\") ? Hooks[name.split(\".\")[1]] : this.hooks[name]\n  }\n\n  isUnloaded(){ return this.unloaded }\n\n  isConnected(){ return this.socket.isConnected() }\n\n  getBindingPrefix(){ return this.bindingPrefix }\n\n  binding(kind){ return `${this.getBindingPrefix()}${kind}` }\n\n  channel(topic, params){ return this.socket.channel(topic, params) }\n\n  joinRootViews(){\n    let rootsFound = false\n    DOM.all(document, `${PHX_VIEW_SELECTOR}:not([${PHX_PARENT_ID}])`, rootEl => {\n      if(!this.getRootById(rootEl.id)){\n        let view = this.newRootView(rootEl)\n        view.setHref(this.getHref())\n        view.join()\n        if(rootEl.getAttribute(PHX_MAIN)){ this.main = view }\n      }\n      rootsFound = true\n    })\n    return rootsFound\n  }\n\n  redirect(to, flash){\n    this.disconnect()\n    Browser.redirect(to, flash)\n  }\n\n  replaceMain(href, flash, callback = null, linkRef = this.setPendingLink(href)){\n    let oldMainEl = this.main.el\n    let newMainEl = DOM.cloneNode(oldMainEl, \"\")\n    this.main.showLoader(this.loaderTimeout)\n    this.main.destroy()\n\n    this.main = this.newRootView(newMainEl, flash)\n    this.main.setRedirect(href)\n    this.main.join(joinCount => {\n      if(joinCount === 1 && this.commitPendingLink(linkRef)){\n        oldMainEl.replaceWith(newMainEl)\n        callback && callback()\n      }\n    })\n  }\n\n  isPhxView(el){ return el.getAttribute && el.getAttribute(PHX_SESSION) !== null }\n\n  newRootView(el, flash){\n    let view = new View(el, this, null, flash)\n    this.roots[view.id] = view\n    return view\n  }\n\n  owner(childEl, callback){\n    let view = maybe(childEl.closest(PHX_VIEW_SELECTOR), el => this.getViewByEl(el))\n    if(view){ callback(view) }\n  }\n\n  withinOwners(childEl, callback){\n    this.owner(childEl, view => {\n      let phxTarget = childEl.getAttribute(this.binding(\"target\"))\n      if(phxTarget === null){\n        callback(view, childEl)\n      } else {\n        view.withinTargets(phxTarget, callback)\n      }\n    })\n  }\n\n  getViewByEl(el){\n    let rootId = el.getAttribute(PHX_ROOT_ID)\n    return maybe(this.getRootById(rootId), root => root.getDescendentByEl(el))\n  }\n\n  getRootById(id){ return this.roots[id] }\n\n  destroyAllViews(){\n    for(let id in this.roots){\n      this.roots[id].destroy()\n      delete this.roots[id]\n    }\n  }\n\n  destroyViewByEl(el){\n    let root = this.getRootById(el.getAttribute(PHX_ROOT_ID))\n    if(root){ root.destroyDescendent(el.id) }\n  }\n\n  setActiveElement(target){\n    if(this.activeElement === target){ return }\n    this.activeElement = target\n    let cancel = () => {\n      if(target === this.activeElement){ this.activeElement = null }\n      target.removeEventListener(\"mouseup\", this)\n      target.removeEventListener(\"touchend\", this)\n    }\n    target.addEventListener(\"mouseup\", cancel)\n    target.addEventListener(\"touchend\", cancel)\n  }\n\n  getActiveElement(){\n    if(document.activeElement === document.body){\n      return this.activeElement || document.activeElement\n    } else {\n      // document.activeElement can be null in Internet Explorer 11\n      return document.activeElement || document.body\n    }\n  }\n\n  dropActiveElement(view){\n    if(this.prevActive && view.ownsElement(this.prevActive)){\n      this.prevActive = null\n    }\n  }\n\n  restorePreviouslyActiveFocus(){\n    if(this.prevActive && this.prevActive !== document.body){\n      this.prevActive.focus()\n    }\n  }\n\n  blurActiveElement(){\n    this.prevActive = this.getActiveElement()\n    if(this.prevActive !== document.body){ this.prevActive.blur() }\n  }\n\n  bindTopLevelEvents(){\n    if(this.boundTopLevelEvents){ return }\n\n    this.boundTopLevelEvents = true\n    document.body.addEventListener(\"click\", function (){ }) // ensure all click events bubble for mobile Safari\n    window.addEventListener(\"pageshow\", e => {\n      if(e.persisted){ // reload page if being restored from back/forward cache\n        this.getSocket().disconnect()\n        this.withPageLoading({to: window.location.href, kind: \"redirect\"})\n        window.location.reload()\n      }\n    }, true)\n    this.bindNav()\n    this.bindClicks()\n    this.bindForms()\n    this.bind({keyup: \"keyup\", keydown: \"keydown\"}, (e, type, view, target, targetCtx, phxEvent, _phxTarget) => {\n      let matchKey = target.getAttribute(this.binding(PHX_KEY))\n      let pressedKey = e.key && e.key.toLowerCase() // chrome clicked autocompletes send a keydown without key\n      if(matchKey && matchKey.toLowerCase() !== pressedKey){ return }\n\n      view.pushKey(target, targetCtx, type, phxEvent, {key: e.key, ...this.eventMeta(type, e, target)})\n    })\n    this.bind({blur: \"focusout\", focus: \"focusin\"}, (e, type, view, targetEl, targetCtx, phxEvent, phxTarget) => {\n      if(!phxTarget){\n        view.pushEvent(type, targetEl, targetCtx, phxEvent, this.eventMeta(type, e, targetEl))\n      }\n    })\n    this.bind({blur: \"blur\", focus: \"focus\"}, (e, type, view, targetEl, targetCtx, phxEvent, phxTarget) => {\n      // blur and focus are triggered on document and window. Discard one to avoid dups\n      if(phxTarget && !phxTarget !== \"window\"){\n        view.pushEvent(type, targetEl, targetCtx, phxEvent, this.eventMeta(type, e, targetEl))\n      }\n    })\n    window.addEventListener(\"dragover\", e => e.preventDefault())\n    window.addEventListener(\"drop\", e => {\n      e.preventDefault()\n      let dropTargetId = maybe(closestPhxBinding(e.target, this.binding(PHX_DROP_TARGET)), trueTarget => {\n        return trueTarget.getAttribute(this.binding(PHX_DROP_TARGET))\n      })\n      let dropTarget = dropTargetId && document.getElementById(dropTargetId)\n      let files = Array.from(e.dataTransfer.files || [])\n      if(!dropTarget || dropTarget.disabled || files.length === 0 || !(dropTarget.files instanceof FileList)){ return }\n\n      LiveUploader.trackFiles(dropTarget, files)\n      dropTarget.dispatchEvent(new Event(\"input\", {bubbles: true}))\n    })\n    this.on(PHX_TRACK_UPLOADS, e => {\n      let uploadTarget = e.target\n      if(!DOM.isUploadInput(uploadTarget)){ return }\n      let files = Array.from(e.detail.files || []).filter(f => f instanceof File || f instanceof Blob)\n      LiveUploader.trackFiles(uploadTarget, files)\n      uploadTarget.dispatchEvent(new Event(\"input\", {bubbles: true}))\n    })\n  }\n\n  eventMeta(eventName, e, targetEl){\n    let callback = this.metadataCallbacks[eventName]\n    return callback ? callback(e, targetEl) : {}\n  }\n\n  setPendingLink(href){\n    this.linkRef++\n    this.pendingLink = href\n    return this.linkRef\n  }\n\n  commitPendingLink(linkRef){\n    if(this.linkRef !== linkRef){\n      return false\n    } else {\n      this.href = this.pendingLink\n      this.pendingLink = null\n      return true\n    }\n  }\n\n  getHref(){ return this.href }\n\n  hasPendingLink(){ return !!this.pendingLink }\n\n  bind(events, callback){\n    for(let event in events){\n      let browserEventName = events[event]\n\n      this.on(browserEventName, e => {\n        let binding = this.binding(event)\n        let windowBinding = this.binding(`window-${event}`)\n        let targetPhxEvent = e.target.getAttribute && e.target.getAttribute(binding)\n        if(targetPhxEvent){\n          this.debounce(e.target, e, () => {\n            this.withinOwners(e.target, (view, targetCtx) => {\n              callback(e, event, view, e.target, targetCtx, targetPhxEvent, null)\n            })\n          })\n        } else {\n          DOM.all(document, `[${windowBinding}]`, el => {\n            let phxEvent = el.getAttribute(windowBinding)\n            this.debounce(el, e, () => {\n              this.withinOwners(el, (view, targetCtx) => {\n                callback(e, event, view, el, targetCtx, phxEvent, \"window\")\n              })\n            })\n          })\n        }\n      })\n    }\n  }\n\n  bindClicks(){\n    this.bindClick(\"click\", \"click\", false)\n    this.bindClick(\"mousedown\", \"capture-click\", true)\n  }\n\n  bindClick(eventName, bindingName, capture){\n    let click = this.binding(bindingName)\n    window.addEventListener(eventName, e => {\n      if(!this.isConnected()){ return }\n      let target = null\n      if(capture){\n        target = e.target.matches(`[${click}]`) ? e.target : e.target.querySelector(`[${click}]`)\n      } else {\n        target = closestPhxBinding(e.target, click)\n      }\n      let phxEvent = target && target.getAttribute(click)\n      if(!phxEvent){ return }\n      if(target.getAttribute(\"href\") === \"#\"){ e.preventDefault() }\n\n      this.debounce(target, e, () => {\n        this.withinOwners(target, (view, targetCtx) => {\n          view.pushEvent(\"click\", target, targetCtx, phxEvent, this.eventMeta(\"click\", e, target))\n        })\n      })\n    }, capture)\n  }\n\n  bindNav(){\n    if(!Browser.canPushState()){ return }\n    if(history.scrollRestoration){ history.scrollRestoration = \"manual\" }\n    let scrollTimer = null\n    window.addEventListener(\"scroll\", _e => {\n      clearTimeout(scrollTimer)\n      scrollTimer = setTimeout(() => {\n        Browser.updateCurrentState(state => Object.assign(state, {scroll: window.scrollY}))\n      }, 100)\n    })\n    window.addEventListener(\"popstate\", event => {\n      if(!this.registerNewLocation(window.location)){ return }\n      let {type, id, root, scroll} = event.state || {}\n      let href = window.location.href\n\n      if(this.main.isConnected() && (type === \"patch\" && id === this.main.id)){\n        this.main.pushLinkPatch(href, null)\n      } else {\n        this.replaceMain(href, null, () => {\n          if(root){ this.replaceRootHistory() }\n          if(typeof(scroll) === \"number\"){\n            setTimeout(() => {\n              window.scrollTo(0, scroll)\n            }, 0) // the body needs to render before we scroll.\n          }\n        })\n      }\n    }, false)\n    window.addEventListener(\"click\", e => {\n      let target = closestPhxBinding(e.target, PHX_LIVE_LINK)\n      let type = target && target.getAttribute(PHX_LIVE_LINK)\n      let wantsNewTab = e.metaKey || e.ctrlKey || e.button === 1\n      if(!type || !this.isConnected() || !this.main || wantsNewTab){ return }\n      let href = target.href\n      let linkState = target.getAttribute(PHX_LINK_STATE)\n      e.preventDefault()\n      if(this.pendingLink === href){ return }\n\n      if(type === \"patch\"){\n        this.pushHistoryPatch(href, linkState, target)\n      } else if(type === \"redirect\"){\n        this.historyRedirect(href, linkState)\n      } else {\n        throw new Error(`expected ${PHX_LIVE_LINK} to be \"patch\" or \"redirect\", got: ${type}`)\n      }\n    }, false)\n  }\n\n  withPageLoading(info, callback){\n    DOM.dispatchEvent(window, \"phx:page-loading-start\", info)\n    let done = () => DOM.dispatchEvent(window, \"phx:page-loading-stop\", info)\n    return callback ? callback(done) : done\n  }\n\n  pushHistoryPatch(href, linkState, targetEl){\n    this.withPageLoading({to: href, kind: \"patch\"}, done => {\n      this.main.pushLinkPatch(href, targetEl, linkRef => {\n        this.historyPatch(href, linkState, linkRef)\n        done()\n      })\n    })\n  }\n\n  historyPatch(href, linkState, linkRef = this.setPendingLink(href)){\n    if(!this.commitPendingLink(linkRef)){ return }\n\n    Browser.pushState(linkState, {type: \"patch\", id: this.main.id}, href)\n    this.registerNewLocation(window.location)\n  }\n\n  historyRedirect(href, linkState, flash){\n    let scroll = window.scrollY\n    this.withPageLoading({to: href, kind: \"redirect\"}, done => {\n      this.replaceMain(href, flash, () => {\n        Browser.pushState(linkState, {type: \"redirect\", id: this.main.id, scroll: scroll}, href)\n        this.registerNewLocation(window.location)\n        done()\n      })\n    })\n  }\n\n  replaceRootHistory(){\n    Browser.pushState(\"replace\", {root: true, type: \"patch\", id: this.main.id})\n  }\n\n  registerNewLocation(newLocation){\n    let {pathname, search} = this.currentLocation\n    if(pathname + search === newLocation.pathname + newLocation.search){\n      return false\n    } else {\n      this.currentLocation = clone(newLocation)\n      return true\n    }\n  }\n\n  bindForms(){\n    let iterations = 0\n    this.on(\"submit\", e => {\n      let phxEvent = e.target.getAttribute(this.binding(\"submit\"))\n      if(!phxEvent){ return }\n      e.preventDefault()\n      e.target.disabled = true\n      this.withinOwners(e.target, (view, targetCtx) => view.submitForm(e.target, targetCtx, phxEvent))\n    }, false)\n\n    for(let type of [\"change\", \"input\"]){\n      this.on(type, e => {\n        let input = e.target\n        let phxEvent = input.form && input.form.getAttribute(this.binding(\"change\"))\n        if(!phxEvent){ return }\n        if(input.type === \"number\" && input.validity && input.validity.badInput){ return }\n        let currentIterations = iterations\n        iterations++\n        let {at: at, type: lastType} = DOM.private(input, \"prev-iteration\") || {}\n        // detect dup because some browsers dispatch both \"input\" and \"change\"\n        if(at === currentIterations - 1 && type !== lastType){ return }\n\n        DOM.putPrivate(input, \"prev-iteration\", {at: currentIterations, type: type})\n\n        this.debounce(input, e, () => {\n          this.withinOwners(input.form, (view, targetCtx) => {\n            DOM.putPrivate(input, PHX_HAS_FOCUSED, true)\n            if(!DOM.isTextualInput(input)){\n              this.setActiveElement(input)\n            }\n            view.pushInput(input, targetCtx, null, phxEvent, e.target)\n          })\n        })\n      }, false)\n    }\n  }\n\n  debounce(el, event, callback){\n    let phxDebounce = this.binding(PHX_DEBOUNCE)\n    let phxThrottle = this.binding(PHX_THROTTLE)\n    let defaultDebounce = this.defaults.debounce.toString()\n    let defaultThrottle = this.defaults.throttle.toString()\n    DOM.debounce(el, event, phxDebounce, defaultDebounce, phxThrottle, defaultThrottle, callback)\n  }\n\n  silenceEvents(callback){\n    this.silenced = true\n    callback()\n    this.silenced = false\n  }\n\n  on(event, callback){\n    window.addEventListener(event, e => {\n      if(!this.silenced){ callback(e) }\n    })\n  }\n}\n","// extracted by mini-css-extract-plugin","// We need to import the CSS so that webpack will load it.\n// The MiniCssExtractPlugin is used to separate it out into\n// its own CSS file.\nimport \"../css/app.scss\"\n\n// webpack automatically bundles all modules in your\n// entry points. Those entry points can be configured\n// in \"webpack.config.js\".\n//\n// Import deps with the dep name or local files with a relative path, for example:\n//\n//     import {Socket} from \"phoenix\"\n//     import socket from \"./socket\"\n//\nimport \"phoenix_html\"\nimport {Socket} from \"phoenix\"\nimport NProgress from \"nprogress\"\nimport {LiveSocket} from \"phoenix_live_view\"\n\nlet csrfToken = document.querySelector(\"meta[name='csrf-token']\").getAttribute(\"content\")\nlet liveSocket = new LiveSocket(\"/live\", Socket, {params: {_csrf_token: csrfToken}})\n\n// Show progress bar on live navigation and form submits\nwindow.addEventListener(\"phx:page-loading-start\", info => NProgress.start())\nwindow.addEventListener(\"phx:page-loading-stop\", info => NProgress.done())\n\n// connect if there are any LiveViews on the page\nliveSocket.connect()\n\n// expose liveSocket on window for web console debug logs and latency simulation:\n// >> liveSocket.enableDebug()\n// >> liveSocket.enableLatencySim(1000)  // enabled for duration of browser session\n// >> liveSocket.disableLatencySim()\nwindow.liveSocket = liveSocket\n\n","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.2.0';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   *\n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n\n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() === \"resolved\") {\n        return this;\n      }\n\n      if (current === 0) {\n        NProgress.start();\n      }\n\n      initial++;\n      current++;\n\n      $promise.always(function() {\n        current--;\n        if (current === 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n\n      return this;\n    };\n\n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n"],"sourceRoot":""}